import{$ as A,$a as wa,$b as Tu,A as ca,Aa as ya,Ab as wi,B as xc,Ba as pi,Bb as Gn,C as Mc,Ca as Kn,Cb as du,D as it,Da as Wn,Db as Si,E as qt,Ea as Vc,Eb as ki,F as wt,Fa as Kc,Fb as Ca,G as ua,Ga as Wc,Gb as pu,H as zn,Ha as Hc,Hb as Ta,I as li,Ia as Gc,Ib as Hs,J as Dc,Ja as Jc,Jb as Gs,K as Vt,Ka as Yc,Kb as mu,L as ze,La as Ke,Lb as Ei,M as ha,Ma as ba,Mb as gu,N as Pc,Na as Xc,Nb as Ci,O as Lc,Oa as qs,Ob as yu,P as $c,Pa as ie,Pb as Ia,Q as ci,Qa as z,Qb as bu,R as ce,Ra as mi,Rb as vu,S as ui,Sa as Qc,Sb as Ti,T as te,Ta as Vs,Tb as wu,U as B,Ua as va,Ub as Su,V as St,Va as gi,Vb as Js,W as O,Wa as J,Wb as ku,X as Ae,Xa as Zc,Xb as Eu,Y as jc,Ya as Ks,Yb as X,Z as P,Za as eu,Zb as Cu,_ as fa,_a as tu,_b as Ys,a as w,aa as k,ab as Ws,ac as Iu,b as G,ba as hi,bb as yi,bc as Xs,c as Tc,ca as _c,cb as nu,cc as Ii,d as V,da as Bs,db as Ne,dc as Ru,e as oa,ea as ot,eb as su,ec as Et,f as ii,fa as me,fb as bi,fc as Au,g as rt,ga as Oe,gb as ru,gc as Wt,h as y,ha as fi,hb as iu,hc as Qs,i as Ic,ia as da,ib as ou,ic as Ra,j as Rc,ja as kt,jb as oe,jc as Ri,k as oi,ka as Uc,kb as ne,l as aa,la as at,lb as ue,m as la,ma as Se,mb as vi,n as ve,na as qn,nb as Hn,o as we,oa as pa,ob as au,p as vt,pa as Fc,pb as lu,q as re,qa as ma,qb as cu,r as I,ra as ga,rb as uu,s as Us,sa as zs,sb as hu,t as Ac,ta as Vn,tb as xe,u as Oc,ua as qe,ub as Kt,v as L,va as Bc,vb as Sa,w as ai,wa as di,wb as fu,x as pe,xa as zc,xb as ge,y as Fs,ya as Ve,yb as ka,z as Nc,za as qc,zb as Ea}from"./chunk-G6DKRLPH.js";var er=class{},xi=class{},Ge=class s{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(r,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:typeof Headers!="undefined"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof s?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new s;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof s?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":let i=e.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>i.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(i=>i.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Oa=class{encodeKey(e){return Ou(e)}encodeValue(e){return Ou(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Cd(s,e){let t=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(r=>{let i=r.indexOf("="),[o,a]=i==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,i)),e.decodeValue(r.slice(i+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var Td=/%(\d[a-f0-9])/gi,Id={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ou(s){return encodeURIComponent(s).replace(Td,(e,t)=>{var n;return(n=Id[t])!=null?n:e})}function Ai(s){return`${s}`}var Ct=class s{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Oa,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Cd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],r=Array.isArray(n)?n.map(Ai):[Ai(n)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(i=>{t.push({param:n,value:i,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new s({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ai(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Ai(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Na=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Rd(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Nu(s){return typeof ArrayBuffer!="undefined"&&s instanceof ArrayBuffer}function xu(s){return typeof Blob!="undefined"&&s instanceof Blob}function Mu(s){return typeof FormData!="undefined"&&s instanceof FormData}function Ad(s){return typeof URLSearchParams!="undefined"&&s instanceof URLSearchParams}var Zs=class s{constructor(e,t,n,r){var o,a;this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let i;if(Rd(this.method)||r?(this.body=n!==void 0?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),(o=this.headers)!=null||(this.headers=new Ge),(a=this.context)!=null||(this.context=new Na),!this.params)this.params=new Ct,this.urlWithParams=t;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),u=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+u+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Nu(this.body)||xu(this.body)||Mu(this.body)||Ad(this.body)?this.body:this.body instanceof Ct?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Mu(this.body)?null:xu(this.body)?this.body.type||null:Nu(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ct?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){var f,d,m,p;let t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=(f=e.transferCache)!=null?f:this.transferCache,o=e.body!==void 0?e.body:this.body,a=(d=e.withCredentials)!=null?d:this.withCredentials,l=(m=e.reportProgress)!=null?m:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=(p=e.context)!=null?p:this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((g,v)=>g.set(v,e.setHeaders[v]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((g,v)=>g.set(v,e.setParams[v]),u)),new s(t,n,o,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:i})}},He;(function(s){s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User"})(He||(He={}));var tr=class{constructor(e,t=sn.Ok,n="OK"){this.headers=e.headers||new Ge,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Mi=class s extends tr{constructor(e={}){super(e),this.type=He.ResponseHeader}clone(e={}){return new s({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tt=class s extends tr{constructor(e={}){super(e),this.type=He.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new s({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},We=class extends tr{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},sn;(function(s){s[s.Continue=100]="Continue",s[s.SwitchingProtocols=101]="SwitchingProtocols",s[s.Processing=102]="Processing",s[s.EarlyHints=103]="EarlyHints",s[s.Ok=200]="Ok",s[s.Created=201]="Created",s[s.Accepted=202]="Accepted",s[s.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",s[s.NoContent=204]="NoContent",s[s.ResetContent=205]="ResetContent",s[s.PartialContent=206]="PartialContent",s[s.MultiStatus=207]="MultiStatus",s[s.AlreadyReported=208]="AlreadyReported",s[s.ImUsed=226]="ImUsed",s[s.MultipleChoices=300]="MultipleChoices",s[s.MovedPermanently=301]="MovedPermanently",s[s.Found=302]="Found",s[s.SeeOther=303]="SeeOther",s[s.NotModified=304]="NotModified",s[s.UseProxy=305]="UseProxy",s[s.Unused=306]="Unused",s[s.TemporaryRedirect=307]="TemporaryRedirect",s[s.PermanentRedirect=308]="PermanentRedirect",s[s.BadRequest=400]="BadRequest",s[s.Unauthorized=401]="Unauthorized",s[s.PaymentRequired=402]="PaymentRequired",s[s.Forbidden=403]="Forbidden",s[s.NotFound=404]="NotFound",s[s.MethodNotAllowed=405]="MethodNotAllowed",s[s.NotAcceptable=406]="NotAcceptable",s[s.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",s[s.RequestTimeout=408]="RequestTimeout",s[s.Conflict=409]="Conflict",s[s.Gone=410]="Gone",s[s.LengthRequired=411]="LengthRequired",s[s.PreconditionFailed=412]="PreconditionFailed",s[s.PayloadTooLarge=413]="PayloadTooLarge",s[s.UriTooLong=414]="UriTooLong",s[s.UnsupportedMediaType=415]="UnsupportedMediaType",s[s.RangeNotSatisfiable=416]="RangeNotSatisfiable",s[s.ExpectationFailed=417]="ExpectationFailed",s[s.ImATeapot=418]="ImATeapot",s[s.MisdirectedRequest=421]="MisdirectedRequest",s[s.UnprocessableEntity=422]="UnprocessableEntity",s[s.Locked=423]="Locked",s[s.FailedDependency=424]="FailedDependency",s[s.TooEarly=425]="TooEarly",s[s.UpgradeRequired=426]="UpgradeRequired",s[s.PreconditionRequired=428]="PreconditionRequired",s[s.TooManyRequests=429]="TooManyRequests",s[s.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",s[s.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",s[s.InternalServerError=500]="InternalServerError",s[s.NotImplemented=501]="NotImplemented",s[s.BadGateway=502]="BadGateway",s[s.ServiceUnavailable=503]="ServiceUnavailable",s[s.GatewayTimeout=504]="GatewayTimeout",s[s.HttpVersionNotSupported=505]="HttpVersionNotSupported",s[s.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",s[s.InsufficientStorage=507]="InsufficientStorage",s[s.LoopDetected=508]="LoopDetected",s[s.NotExtended=510]="NotExtended",s[s.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired"})(sn||(sn={}));function Aa(s,e){return{body:e,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache}}var Ht=class Ht{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof Zs)r=e;else{let a;n.headers instanceof Ge?a=n.headers:a=new Ge(n.headers);let l;n.params&&(n.params instanceof Ct?l=n.params:l=new Ct({fromObject:n.params})),r=new Zs(e,t,n.body!==void 0?n.body:null,{headers:a,context:n.context,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let i=I(r).pipe(wt(a=>this.handler.handle(a)));if(e instanceof Zs||n.observe==="events")return i;let o=i.pipe(it(a=>a instanceof Tt));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(L(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return o.pipe(L(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return o.pipe(L(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return o.pipe(L(a=>a.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new Ct().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Aa(n,t))}post(e,t,n={}){return this.request("POST",e,Aa(n,t))}put(e,t,n={}){return this.request("PUT",e,Aa(n,t))}};Ht.\u0275fac=function(t){return new(t||Ht)(A(er))},Ht.\u0275prov=O({token:Ht,factory:Ht.\u0275fac});var ct=Ht,Od=/^\)\]\}',?\n/,Nd="X-Request-URL";function Du(s){if(s.url)return s.url;let e=Nd.toLocaleLowerCase();return s.headers.get(e)}var Gt=class Gt{constructor(){var e,t;this.fetchImpl=(t=(e=k(xa,{optional:!0}))==null?void 0:e.fetch)!=null?t:fetch.bind(globalThis),this.ngZone=k(J)}handle(e){return new oi(t=>{let n=new AbortController;return this.doRequest(e,n.signal,t).then(Ma,r=>t.error(new We({error:r}))),()=>n.abort()})}doRequest(e,t,n){return rt(this,null,function*(){var f,d,m,p;let r=this.createRequestInit(e),i;try{let g=this.fetchImpl(e.urlWithParams,w({signal:t},r));xd(g),n.next({type:He.Sent}),i=yield g}catch(g){n.error(new We({error:g,status:(f=g.status)!=null?f:0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let o=new Ge(i.headers),a=i.statusText,l=(d=Du(i))!=null?d:e.urlWithParams,c=i.status,u=null;if(e.reportProgress&&n.next(new Mi({headers:o,status:c,statusText:a,url:l})),i.body){let g=i.headers.get("content-length"),v=[],b=i.body.getReader(),C=0,T,R,S=typeof Zone!="undefined"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>rt(this,null,function*(){for(;;){let{done:D,value:W}=yield b.read();if(D)break;if(v.push(W),C+=W.length,e.reportProgress){R=e.responseType==="text"?(R!=null?R:"")+(T!=null?T:T=new TextDecoder).decode(W,{stream:!0}):void 0;let q=()=>n.next({type:He.DownloadProgress,total:g?+g:void 0,loaded:C,partialText:R});S?S.run(q):q()}}}));let K=this.concatChunks(v,C);try{let D=(m=i.headers.get("Content-Type"))!=null?m:"";u=this.parseBody(e,K,D)}catch(D){n.error(new We({error:D,headers:new Ge(i.headers),status:i.status,statusText:i.statusText,url:(p=Du(i))!=null?p:e.urlWithParams}));return}}c===0&&(c=u?sn.Ok:0),c>=200&&c<300?(n.next(new Tt({body:u,headers:o,status:c,statusText:a,url:l})),n.complete()):n.error(new We({error:u,headers:o,status:c,statusText:a,url:l}))})}parseBody(e,t,n){switch(e.responseType){case"json":let r=new TextDecoder().decode(t).replace(Od,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(t);case"blob":return new Blob([t],{type:n});case"arraybuffer":return t.buffer}}createRequestInit(e){var r;let t={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((i,o)=>t[i]=o.join(",")),(r=t.Accept)!=null||(t.Accept="application/json, text/plain, */*"),!t["Content-Type"]){let i=e.detectContentTypeHeader();i!==null&&(t["Content-Type"]=i)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:n}}concatChunks(e,t){let n=new Uint8Array(t),r=0;for(let i of e)n.set(i,r),r+=i.length;return n}};Gt.\u0275fac=function(t){return new(t||Gt)},Gt.\u0275prov=O({token:Gt,factory:Gt.\u0275fac});var Pu=Gt,xa=class{};function Ma(){}function xd(s){s.then(Ma,Ma)}function Gu(s,e){return e(s)}function Md(s,e){return(t,n)=>e.intercept(t,{handle:r=>s(r,n)})}function Dd(s,e,t){return(n,r)=>Se(t,()=>e(n,i=>s(i,r)))}var Ju=new P(""),Ui=new P(""),Yu=new P(""),Pd=new P("");function Ld(){let s=null;return(e,t)=>{var i;s===null&&(s=((i=k(Ju,{optional:!0}))!=null?i:[]).reduceRight(Md,Gu));let n=k(Ws),r=n.add();return s(e,t).pipe(Vt(()=>n.remove(r)))}}var Jt=class Jt extends er{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null,this.pendingTasks=k(Ws);let n=k(Pd,{optional:!0});this.backend=n!=null?n:e}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Ui),...this.injector.get(Yu,[])]));this.chain=n.reduceRight((r,i)=>Dd(r,i,this.injector),Gu)}let t=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(Vt(()=>this.pendingTasks.remove(t)))}};Jt.\u0275fac=function(t){return new(t||Jt)(A(xi),A(at))},Jt.\u0275prov=O({token:Jt,factory:Jt.\u0275fac});var Di=Jt,$d=0,Oi,jd="JSONP injected script did not invoke callback.",_d="JSONP requests must use JSONP request method.",Ud="JSONP requests must use Json response type.",Fd="JSONP requests do not support headers.",Pi=class{};function Bd(){return typeof window=="object"?window:{}}var Yt=class Yt{constructor(e,t){this.callbackMap=e,this.document=t,this.resolvedPromise=Promise.resolve()}nextCallback(){return`ng_jsonp_callback_${$d++}`}handle(e){if(e.method!=="JSONP")throw new Error(_d);if(e.responseType!=="json")throw new Error(Ud);if(e.headers.keys().length>0)throw new Error(Fd);return new oi(t=>{let n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let o=null,a=!1;this.callbackMap[n]=h=>{delete this.callbackMap[n],o=h,a=!0};let l=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},c=h=>{this.resolvedPromise.then(()=>{if(l(),!a){t.error(new We({url:r,status:0,statusText:"JSONP Error",error:new Error(jd)}));return}t.next(new Tt({body:o,status:sn.Ok,statusText:"OK",url:r})),t.complete()})},u=h=>{l(),t.error(new We({error:h,status:0,statusText:"JSONP Error",url:r}))};return i.addEventListener("load",c),i.addEventListener("error",u),this.document.body.appendChild(i),t.next({type:He.Sent}),()=>{a||this.removeListeners(i),l()}})}removeListeners(e){Oi!=null||(Oi=this.document.implementation.createHTMLDocument()),Oi.adoptNode(e)}};Yt.\u0275fac=function(t){return new(t||Yt)(A(Pi),A(X))},Yt.\u0275prov=O({token:Yt,factory:Yt.\u0275fac});var Li=Yt;function Xu(s,e){return s.method==="JSONP"?k(Li).handle(s):e(s)}var Xt=class Xt{constructor(e){this.injector=e}intercept(e,t){return Se(this.injector,()=>Xu(e,n=>t.handle(n)))}};Xt.\u0275fac=function(t){return new(t||Xt)(A(at))},Xt.\u0275prov=O({token:Xt,factory:Xt.\u0275fac});var Lu=Xt,zd=/^\)\]\}',?\n/;function qd(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}var Qt=class Qt{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new B(-2800,!1);let t=this.xhrFactory;return(t.\u0275loadImpl?re(t.\u0275loadImpl()):I(null)).pipe(ce(()=>new oi(r=>{let i=t.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((m,p)=>i.setRequestHeader(m,p.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let m=e.detectContentTypeHeader();m!==null&&i.setRequestHeader("Content-Type",m)}if(e.responseType){let m=e.responseType.toLowerCase();i.responseType=m!=="json"?m:"text"}let o=e.serializeBody(),a=null,l=()=>{if(a!==null)return a;let m=i.statusText||"OK",p=new Ge(i.getAllResponseHeaders()),g=qd(i)||e.url;return a=new Mi({headers:p,status:i.status,statusText:m,url:g}),a},c=()=>{let{headers:m,status:p,statusText:g,url:v}=l(),b=null;p!==sn.NoContent&&(b=typeof i.response=="undefined"?i.responseText:i.response),p===0&&(p=b?sn.Ok:0);let C=p>=200&&p<300;if(e.responseType==="json"&&typeof b=="string"){let T=b;b=b.replace(zd,"");try{b=b!==""?JSON.parse(b):null}catch(R){b=T,C&&(C=!1,b={error:R,text:b})}}C?(r.next(new Tt({body:b,headers:m,status:p,statusText:g,url:v||void 0})),r.complete()):r.error(new We({error:b,headers:m,status:p,statusText:g,url:v||void 0}))},u=m=>{let{url:p}=l(),g=new We({error:m,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)},h=!1,f=m=>{h||(r.next(l()),h=!0);let p={type:He.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(p.total=m.total),e.responseType==="text"&&i.responseText&&(p.partialText=i.responseText),r.next(p)},d=m=>{let p={type:He.UploadProgress,loaded:m.loaded};m.lengthComputable&&(p.total=m.total),r.next(p)};return i.addEventListener("load",c),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),e.reportProgress&&(i.addEventListener("progress",f),o!==null&&i.upload&&i.upload.addEventListener("progress",d)),i.send(o),r.next({type:He.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",c),i.removeEventListener("timeout",u),e.reportProgress&&(i.removeEventListener("progress",f),o!==null&&i.upload&&i.upload.removeEventListener("progress",d)),i.readyState!==i.DONE&&i.abort()}})))}};Qt.\u0275fac=function(t){return new(t||Qt)(A(Ri))},Qt.\u0275prov=O({token:Qt,factory:Qt.\u0275fac});var $i=Qt,Fi=new P(""),Qu="XSRF-TOKEN",Zu=new P("",{providedIn:"root",factory:()=>Qu}),eh="X-XSRF-TOKEN",th=new P("",{providedIn:"root",factory:()=>eh}),nr=class{},Zt=class Zt{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ii(e,this.cookieName),this.lastCookieString=e),this.lastToken}};Zt.\u0275fac=function(t){return new(t||Zt)(A(X),A(Ve),A(Zu))},Zt.\u0275prov=O({token:Zt,factory:Zt.\u0275fac});var ji=Zt;function nh(s,e){let t=s.url.toLowerCase();if(!k(Fi)||s.method==="GET"||s.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(s);let n=k(nr).getToken(),r=k(th);return n!=null&&!s.headers.has(r)&&(s=s.clone({headers:s.headers.set(r,n)})),e(s)}var en=class en{constructor(e){this.injector=e}intercept(e,t){return Se(this.injector,()=>nh(e,n=>t.handle(n)))}};en.\u0275fac=function(t){return new(t||en)(A(at))},en.\u0275prov=O({token:en,factory:en.\u0275fac});var _i=en,Jn;(function(s){s[s.Interceptors=0]="Interceptors",s[s.LegacyInterceptors=1]="LegacyInterceptors",s[s.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",s[s.NoXsrfProtection=3]="NoXsrfProtection",s[s.JsonpSupport=4]="JsonpSupport",s[s.RequestsMadeViaParent=5]="RequestsMadeViaParent",s[s.Fetch=6]="Fetch"})(Jn||(Jn={}));function Bi(s,e){return{\u0275kind:s,\u0275providers:e}}function Da(...s){let e=[ct,$i,Di,{provide:er,useExisting:Di},{provide:xi,useExisting:$i},{provide:Ui,useValue:nh,multi:!0},{provide:Fi,useValue:!0},{provide:nr,useClass:ji}];for(let t of s)e.push(...t.\u0275providers);return kt(e)}var $u=new P("");function Vd(){return Bi(Jn.LegacyInterceptors,[{provide:$u,useFactory:Ld},{provide:Ui,useExisting:$u,multi:!0}])}function ju({cookieName:s,headerName:e}){let t=[];return s!==void 0&&t.push({provide:Zu,useValue:s}),e!==void 0&&t.push({provide:th,useValue:e}),Bi(Jn.CustomXsrfConfiguration,t)}function Kd(){return Bi(Jn.NoXsrfProtection,[{provide:Fi,useValue:!1}])}function Wd(){return Bi(Jn.JsonpSupport,[Li,{provide:Pi,useFactory:Bd},{provide:Ui,useValue:Xu,multi:!0}])}var lt=class lt{static disable(){return{ngModule:lt,providers:[Kd().\u0275providers]}}static withOptions(e={}){return{ngModule:lt,providers:ju(e).\u0275providers}}};lt.\u0275fac=function(t){return new(t||lt)},lt.\u0275mod=Oe({type:lt}),lt.\u0275inj=Ae({providers:[_i,{provide:Ju,useExisting:_i,multi:!0},{provide:nr,useClass:ji},ju({cookieName:Qu,headerName:eh}).\u0275providers,{provide:Fi,useValue:!0}]});var _u=lt,tn=class tn{};tn.\u0275fac=function(t){return new(t||tn)},tn.\u0275mod=Oe({type:tn}),tn.\u0275inj=Ae({providers:[Da(Vd())]});var Uu=tn,nn=class nn{};nn.\u0275fac=function(t){return new(t||nn)},nn.\u0275mod=Oe({type:nn}),nn.\u0275inj=Ae({providers:[Wd().\u0275providers]});var Fu=nn,Bu="b",zu="h",qu="s",Vu="st",Ku="u",Wu="rt",Ni=new P(""),Hd=["GET","HEAD"];function Gd(s,e){var f;let h=k(Ni),{isCacheActive:t}=h,n=Tc(h,["isCacheActive"]),{transferCache:r,method:i}=s;if(!t||i==="POST"&&!n.includePostRequests&&!r||i!=="POST"&&!Hd.includes(i)||r===!1||((f=n.filter)==null?void 0:f.call(n,s))===!1)return e(s);let o=k(pi),a=Yd(s),l=o.get(a,null),c=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(c=r.includeHeaders),l){let{[Bu]:d,[Wu]:m,[zu]:p,[qu]:g,[Vu]:v,[Ku]:b}=l,C=d;switch(m){case"arraybuffer":C=new TextEncoder().encode(d).buffer;break;case"blob":C=new Blob([d]);break}let T=new Ge(p);return I(new Tt({body:C,headers:T,status:g,statusText:v,url:b}))}let u=Qs(k(Ve));return e(s).pipe(te(d=>{d instanceof Tt&&u&&o.set(a,{[Bu]:d.body,[zu]:Jd(d.headers,c),[qu]:d.status,[Vu]:d.statusText,[Ku]:d.url||"",[Wu]:s.responseType})}))}function Jd(s,e){if(!e)return{};let t={};for(let n of e){let r=s.getAll(n);r!==null&&(t[n]=r)}return t}function Hu(s){return[...s.keys()].sort().map(e=>`${e}=${s.getAll(e)}`).join("&")}function Yd(s){let{params:e,method:t,responseType:n,url:r}=s,i=Hu(e),o=s.serializeBody();o instanceof URLSearchParams?o=Hu(o):typeof o!="string"&&(o="");let a=[t,n,r,o,i].join("|"),l=Xd(a);return l}function Xd(s){let e=0;for(let t of s)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function sh(s){return[{provide:Ni,useFactory:()=>(gi("NgHttpTransferCache"),w({isCacheActive:!0},s))},{provide:Yu,useValue:Gd,multi:!0,deps:[pi,Ni]},{provide:Hs,multi:!0,useFactory:()=>{let e=k(Gs),t=k(Ni);return()=>{mu(e).then(()=>{t.isCacheActive=!1})}}}]}var ja=class extends Eu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_a=class s extends ja{static makeCurrent(){ku(new s)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Zd();return t==null?null:ep(t)}resetBaseElement(){sr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ii(document.cookie,e)}},sr=null;function Zd(){return sr=sr||document.querySelector("base"),sr?sr.getAttribute("href"):null}function ep(s){return new URL(s,document.baseURI).pathname}var Ua=class{addToWindow(e){St.getAngularTestability=(n,r=!0)=>{let i=e.findTestabilityInTree(n,r);if(i==null)throw new B(5103,!1);return i},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements();let t=n=>{let r=St.getAllAngularTestabilities(),i=r.length,o=function(){i--,i==0&&n()};r.forEach(a=>{a.whenStable(o)})};St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,n){if(t==null)return null;let r=e.getTestability(t);return r!=null?r:n?Js().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}},rn=class rn{build(){return new XMLHttpRequest}};rn.\u0275fac=function(t){return new(t||rn)},rn.\u0275prov=O({token:rn,factory:rn.\u0275fac});var Fa=rn,zi=new P(""),on=class on{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(r=>r.supports(e)),!t)throw new B(5101,!1);return this._eventNameToPlugin.set(e,t),t}};on.\u0275fac=function(t){return new(t||on)(A(zi),A(J))},on.\u0275prov=O({token:on,factory:on.\u0275fac});var qi=on,rr=class{constructor(e){this._doc=e}},La="ng-app-id",an=class an{constructor(e,t,n,r={}){this.doc=e,this.appId=t,this.nonce=n,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qs(r),this.resetHostNodes()}addStyles(e){for(let t of e)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){var n,r;let t=this.styleRef;(r=(n=t.get(e))==null?void 0:n.elements)==null||r.forEach(i=>i.remove()),t.delete(e)}collectServerRenderedStyles(){var t;let e=(t=this.doc.head)==null?void 0:t.querySelectorAll(`style[${La}="${this.appId}"]`);if(e!=null&&e.length){let n=new Map;return e.forEach(r=>{r.textContent!=null&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,t){let n=this.styleRef;if(n.has(e)){let r=n.get(e);return r.usage+=t,r.usage}return n.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let n=this.styleNodesInDOM,r=n==null?void 0:n.get(t);if((r==null?void 0:r.parentNode)===e)return n.delete(t),r.removeAttribute(La),r;{let i=this.doc.createElement("style");return this.nonce&&i.setAttribute("nonce",this.nonce),i.textContent=t,this.platformIsServer&&i.setAttribute(La,this.appId),e.appendChild(i),i}}addStyleToHost(e,t){var o;let n=this.getStyleElement(e,t),r=this.styleRef,i=(o=r.get(t))==null?void 0:o.elements;i?i.push(n):r.set(t,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};an.\u0275fac=function(t){return new(t||an)(A(X),A(di),A(ya,8),A(Ve))},an.\u0275prov=O({token:an,factory:an.\u0275fac});var Vi=an,$a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ga=/%COMP%/g,ch="%COMP%",tp=`_nghost-${ch}`,np=`_ngcontent-${ch}`,sp=!0,rp=new P("",{providedIn:"root",factory:()=>sp});function ip(s){return np.replace(Ga,s)}function op(s){return tp.replace(Ga,s)}function uh(s,e){return e.map(t=>t.replace(Ga,s))}var ln=class ln{constructor(e,t,n,r,i,o,a,l=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.removeStylesOnCompDestroy=r,this.doc=i,this.platformId=o,this.ngZone=a,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Qs(o),this.defaultRenderer=new ir(e,i,a,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Bs.ShadowDom&&(t=G(w({},t),{encapsulation:Bs.Emulated}));let n=this.getOrCreateRenderer(e,t);return n instanceof Ki?n.applyToHost(e):n instanceof or&&n.applyStyles(),n}getOrCreateRenderer(e,t){let n=this.rendererByCompId,r=n.get(t.id);if(!r){let i=this.doc,o=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(t.encapsulation){case Bs.Emulated:r=new Ki(a,l,t,this.appId,c,i,o,u);break;case Bs.ShadowDom:return new Ba(a,l,e,t,i,o,this.nonce,u);default:r=new or(a,l,t,c,i,o,u);break}n.set(t.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}};ln.\u0275fac=function(t){return new(t||ln)(A(qi),A(Vi),A(di),A(rp),A(X),A(Ve),A(J),A(ya))},ln.\u0275prov=O({token:ln,factory:ln.\u0275fac});var Yn=ln,ir=class{constructor(e,t,n,r){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($a[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rh(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(rh(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new B(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;let i=$a[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let r=$a[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(qs.DashCase|qs.Important)?e.style.setProperty(t,n,r&qs.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&qs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=Js().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function rh(s){return s.tagName==="TEMPLATE"&&s.content!==void 0}var Ba=class extends ir{constructor(e,t,n,r,i,o,a,l){super(e,i,o,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=uh(r.id,r.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},or=class extends ir{constructor(e,t,n,r,i,o,a,l){super(e,i,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?uh(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ki=class extends or{constructor(e,t,n,r,i,o,a,l){let c=r+"-"+n.id;super(e,t,n,i,o,a,l,c),this.contentAttr=ip(c),this.hostAttr=op(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},cn=class cn extends rr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}};cn.\u0275fac=function(t){return new(t||cn)(A(X))},cn.\u0275prov=O({token:cn,factory:cn.\u0275fac});var za=cn,ih=["alt","control","meta","shift"],ap={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lp={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey},ke=class ke extends rr{constructor(e){super(e)}supports(e){return ke.parseEventName(e)!=null}addEventListener(e,t,n){let r=ke.parseEventName(t),i=ke.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Js().onAndCancel(e,r.domEventName,i))}static parseEventName(e){let t=e.toLowerCase().split("."),n=t.shift();if(t.length===0||!(n==="keydown"||n==="keyup"))return null;let r=ke._normalizeKey(t.pop()),i="",o=t.indexOf("code");if(o>-1&&(t.splice(o,1),i="code."),ih.forEach(l=>{let c=t.indexOf(l);c>-1&&(t.splice(c,1),i+=l+".")}),i+=r,t.length!=0||r.length===0)return null;let a={};return a.domEventName=n,a.fullKey=i,a}static matchEventFullKeyCode(e,t){let n=ap[e.key]||e.key,r="";return t.indexOf("code.")>-1&&(n=e.code,r="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),ih.forEach(i=>{if(i!==n){let o=lp[i];o(e)&&(r+=i+".")}}),r+=n,r===t)}static eventCallback(e,t,n){return r=>{ke.matchEventFullKeyCode(r,e)&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}};ke.\u0275fac=function(t){return new(t||ke)(A(X))},ke.\u0275prov=O({token:ke,factory:ke.\u0275fac});var qa=ke;function hh(s,e){return bu(w({rootComponent:s},cp(e)))}function cp(s){var e;return{appProviders:[...dh,...(e=s==null?void 0:s.providers)!=null?e:[]],platformProviders:fh}}function up(){_a.makeCurrent()}function hp(){return new ga}function fp(){return Bc(document),document}var fh=[{provide:Ve,useValue:Au},{provide:zc,useValue:up,multi:!0},{provide:X,useFactory:fp,deps:[]}],rb=gu(yu,"browser",fh),dp=new P(""),pp=[{provide:Si,useClass:Ua,deps:[]},{provide:du,useClass:ki,deps:[J,Ca,Si]},{provide:ki,useClass:ki,deps:[J,Ca,Si]}],dh=[{provide:Uc,useValue:"root"},{provide:ga,useFactory:hp,deps:[]},{provide:zi,useClass:za,multi:!0,deps:[X,J,Ve]},{provide:zi,useClass:qa,multi:!0,deps:[X]},Yn,Vi,qi,{provide:Vs,useExisting:Yn},{provide:Ri,useClass:Fa,deps:[]},[]],At=class At{constructor(e){}static withServerTransition(e){return{ngModule:At,providers:[{provide:di,useValue:e.appId}]}}};At.\u0275fac=function(t){return new(t||At)(A(dp,12))},At.\u0275mod=Oe({type:At,exports:[Et,Ia]}),At.\u0275inj=Ae({providers:[...dh,...pp],imports:[Et,Ia]});var oh=At,un=class un{constructor(e){this._doc=e,this._dom=Js()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((n,r)=>(r&&n.push(this._getOrCreateElement(r,t)),n),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];let t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);let n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){let i=this._parseSelector(e),o=this.getTags(i).filter(a=>this._containsAttributes(e,a))[0];if(o!==void 0)return o}let n=this._dom.createElement("meta");return this._setMetaElementAttributes(e,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>t.setAttribute(this._getMetaKeyMap(n),e[n])),t}_parseSelector(e){let t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>t.getAttribute(this._getMetaKeyMap(n))===e[n])}_getMetaKeyMap(e){return mp[e]||e}};un.\u0275fac=function(t){return new(t||un)(A(X))},un.\u0275prov=O({token:un,factory:un.\u0275fac,providedIn:"root"});var ah=un,mp={httpEquiv:"http-equiv"},hn=class hn{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}};hn.\u0275fac=function(t){return new(t||hn)(A(X))},hn.\u0275prov=O({token:hn,factory:hn.\u0275fac,providedIn:"root"});var Wi=hn;var gp={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Va=new P("HammerGestureConfig"),ph=new P("HammerLoader"),fn=class fn{constructor(){this.events=[],this.overrides={}}buildHammer(e){let t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(let n in this.overrides)t.get(n).set(this.overrides[n]);return t}};fn.\u0275fac=function(t){return new(t||fn)},fn.\u0275prov=O({token:fn,factory:fn.\u0275fac});var Ka=fn,dn=class dn extends rr{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r,this._loaderPromise=null}supports(e){return!(!gp.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,t,n){let r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||r.runOutsideAngular(()=>this.loader());let i=!1,o=()=>{i=!0};return r.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){o=()=>{};return}i||(o=this.addEventListener(e,t,n))}).catch(()=>{o=()=>{}})),()=>{o()}}return r.runOutsideAngular(()=>{let i=this._config.buildHammer(e),o=function(a){r.runGuarded(function(){n(a)})};return i.on(t,o),()=>{i.off(t,o),typeof i.destroy=="function"&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}};dn.\u0275fac=function(t){return new(t||dn)(A(X),A(Va),A(Gn),A(ph,8))},dn.\u0275prov=O({token:dn,factory:dn.\u0275fac});var Wa=dn,pn=class pn{};pn.\u0275fac=function(t){return new(t||pn)},pn.\u0275mod=Oe({type:pn}),pn.\u0275inj=Ae({providers:[{provide:zi,useClass:Wa,multi:!0,deps:[X,Va,Gn,[new hi,ph]]},{provide:Va,useClass:Ka,deps:[]}]});var lh=pn,mn=class mn{};mn.\u0275fac=function(t){return new(t||mn)},mn.\u0275prov=O({token:mn,factory:function(t){let n=null;return t?n=new(t||mn):n=A(Ha),n},providedIn:"root"});var Xn=mn,gn=class gn extends Xn{constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case Ke.NONE:return t;case Ke.HTML:return Wn(t,"HTML")?Kn(t):Yc(this._doc,String(t)).toString();case Ke.STYLE:return Wn(t,"Style")?Kn(t):t;case Ke.SCRIPT:if(Wn(t,"Script"))return Kn(t);throw new B(5200,!1);case Ke.URL:return Wn(t,"URL")?Kn(t):Jc(String(t));case Ke.RESOURCE_URL:if(Wn(t,"ResourceURL"))return Kn(t);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(e){return Vc(e)}bypassSecurityTrustStyle(e){return Kc(e)}bypassSecurityTrustScript(e){return Wc(e)}bypassSecurityTrustUrl(e){return Hc(e)}bypassSecurityTrustResourceUrl(e){return Gc(e)}};gn.\u0275fac=function(t){return new(t||gn)(A(X))},gn.\u0275prov=O({token:gn,factory:gn.\u0275fac,providedIn:"root"});var Ha=gn,Hi;(function(s){s[s.NoHttpTransferCache=0]="NoHttpTransferCache",s[s.HttpTransferCacheOptions=1]="HttpTransferCacheOptions"})(Hi||(Hi={}));function mh(...s){let e=[],t=new Set,n=t.has(Hi.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:i}of s)t.add(i),r.length&&e.push(r);return kt([[],vu(),t.has(Hi.NoHttpTransferCache)||n?[]:sh({}),e])}var ib=new wi("17.3.4");var N="primary",Ir=Symbol("RouteTitle"),Za=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ds(s){return new Za(s)}function yp(s,e,t){let n=t.path.split("/");if(n.length>s.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<s.length))return null;let r={};for(let i=0;i<n.length;i++){let o=n[i],a=s[i];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:s.slice(0,n.length),posParams:r}}function bp(s,e){if(s.length!==e.length)return!1;for(let t=0;t<s.length;++t)if(!Je(s[t],e[t]))return!1;return!0}function Je(s,e){let t=s?el(s):void 0,n=e?el(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let i=0;i<t.length;i++)if(r=t[i],!Rh(s[r],e[r]))return!1;return!0}function el(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function Rh(s,e){if(Array.isArray(s)&&Array.isArray(e)){if(s.length!==e.length)return!1;let t=[...s].sort(),n=[...e].sort();return t.every((r,i)=>n[i]===r)}else return s===e}function Ah(s){return s.length>0?s[s.length-1]:null}function Lt(s){return Ac(s)?s:pu(s)?re(Promise.resolve(s)):I(s)}var vp={exact:Nh,subset:xh},Oh={exact:wp,subset:Sp,ignored:()=>!0};function yh(s,e,t){return vp[t.paths](s.root,e.root,t.matrixParams)&&Oh[t.queryParams](s.queryParams,e.queryParams)&&!(t.fragment==="exact"&&s.fragment!==e.fragment)}function wp(s,e){return Je(s,e)}function Nh(s,e,t){if(!An(s.segments,e.segments)||!Yi(s.segments,e.segments,t)||s.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!s.children[n]||!Nh(s.children[n],e.children[n],t))return!1;return!0}function Sp(s,e){return Object.keys(e).length<=Object.keys(s).length&&Object.keys(e).every(t=>Rh(s[t],e[t]))}function xh(s,e,t){return Mh(s,e,e.segments,t)}function Mh(s,e,t,n){if(s.segments.length>t.length){let r=s.segments.slice(0,t.length);return!(!An(r,t)||e.hasChildren()||!Yi(r,t,n))}else if(s.segments.length===t.length){if(!An(s.segments,t)||!Yi(s.segments,t,n))return!1;for(let r in e.children)if(!s.children[r]||!xh(s.children[r],e.children[r],n))return!1;return!0}else{let r=t.slice(0,s.segments.length),i=t.slice(s.segments.length);return!An(s.segments,r)||!Yi(s.segments,r,n)||!s.children[N]?!1:Mh(s.children[N],e,i,n)}}function Yi(s,e,t){return e.every((n,r)=>Oh[t](s[r].parameters,n.parameters))}var xt=class{constructor(e=new U([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=ds(this.queryParams)),this._queryParamMap}toString(){return Cp.serialize(this)}},U=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xi(this)}},Rn=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){var e;return(e=this._parameterMap)!=null||(this._parameterMap=ds(this.parameters)),this._parameterMap}toString(){return Ph(this)}};function kp(s,e){return An(s,e)&&s.every((t,n)=>Je(t.parameters,e[n].parameters))}function An(s,e){return s.length!==e.length?!1:s.every((t,n)=>t.path===e[n].path)}function Ep(s,e){let t=[];return Object.entries(s.children).forEach(([n,r])=>{n===N&&(t=t.concat(e(r,n)))}),Object.entries(s.children).forEach(([n,r])=>{n!==N&&(t=t.concat(e(r,n)))}),t}var ts=class ts{};ts.\u0275fac=function(t){return new(t||ts)},ts.\u0275prov=O({token:ts,factory:()=>new fr,providedIn:"root"});var On=ts,fr=class{parse(e){let t=new nl(e);return new xt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ar(e.root,!0)}`,n=Rp(e.queryParams),r=typeof e.fragment=="string"?`#${Tp(e.fragment)}`:"";return`${t}${n}${r}`}},Cp=new fr;function Xi(s){return s.segments.map(e=>Ph(e)).join("/")}function ar(s,e){if(!s.hasChildren())return Xi(s);if(e){let t=s.children[N]?ar(s.children[N],!1):"",n=[];return Object.entries(s.children).forEach(([r,i])=>{r!==N&&n.push(`${r}:${ar(i,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=Ep(s,(n,r)=>r===N?[ar(s.children[N],!1)]:[`${r}:${ar(n,!1)}`]);return Object.keys(s.children).length===1&&s.children[N]!=null?`${Xi(s)}/${t[0]}`:`${Xi(s)}/(${t.join("//")})`}}function Dh(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gi(s){return Dh(s).replace(/%3B/gi,";")}function Tp(s){return encodeURI(s)}function tl(s){return Dh(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qi(s){return decodeURIComponent(s)}function bh(s){return Qi(s.replace(/\+/g,"%20"))}function Ph(s){return`${tl(s.path)}${Ip(s.parameters)}`}function Ip(s){return Object.entries(s).map(([e,t])=>`;${tl(e)}=${tl(t)}`).join("")}function Rp(s){let e=Object.entries(s).map(([t,n])=>Array.isArray(n)?n.map(r=>`${Gi(t)}=${Gi(r)}`).join("&"):`${Gi(t)}=${Gi(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Ap=/^[^\/()?;#]+/;function Ja(s){let e=s.match(Ap);return e?e[0]:""}var Op=/^[^\/()?;=#]+/;function Np(s){let e=s.match(Op);return e?e[0]:""}var xp=/^[^=?&#]+/;function Mp(s){let e=s.match(xp);return e?e[0]:""}var Dp=/^[^&#]+/;function Pp(s){let e=s.match(Dp);return e?e[0]:""}var nl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[N]=new U(e,t)),n}parseSegment(){let e=Ja(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Rn(Qi(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Np(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let r=Ja(this.remaining);r&&(n=r,this.capture(n))}e[Qi(t)]=Qi(n)}parseQueryParam(e){let t=Mp(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let o=Pp(this.remaining);o&&(n=o,this.capture(n))}let r=bh(t),i=bh(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(i)}else e[r]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ja(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new B(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=N);let o=this.parseChildren();t[i]=Object.keys(o).length===1?o[N]:new U([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function Lh(s){return s.segments.length>0?new U([],{[N]:s}):s}function $h(s){let e={};for(let[n,r]of Object.entries(s.children)){let i=$h(r);if(n===N&&i.segments.length===0&&i.hasChildren())for(let[o,a]of Object.entries(i.children))e[o]=a;else(i.segments.length>0||i.hasChildren())&&(e[n]=i)}let t=new U(s.segments,e);return Lp(t)}function Lp(s){if(s.numberOfChildren===1&&s.children[N]){let e=s.children[N];return new U(s.segments.concat(e.segments),e.children)}return s}function ps(s){return s instanceof xt}function $p(s,e,t=null,n=null){let r=jh(s);return _h(r,e,t,n)}function jh(s){let e;function t(i){let o={};for(let l of i.children){let c=t(l);o[l.outlet]=c}let a=new U(i.url,o);return i===s&&(e=a),a}let n=t(s.root),r=Lh(n);return e!=null?e:r}function _h(s,e,t,n){let r=s;for(;r.parent;)r=r.parent;if(e.length===0)return Ya(r,r,r,t,n);let i=jp(e);if(i.toRoot())return Ya(r,r,new U([],{}),t,n);let o=_p(i,r,s),a=o.processChildren?cr(o.segmentGroup,o.index,i.commands):Fh(o.segmentGroup,o.index,i.commands);return Ya(r,o.segmentGroup,a,t,n)}function Zi(s){return typeof s=="object"&&s!=null&&!s.outlets&&!s.segmentPath}function dr(s){return typeof s=="object"&&s!=null&&s.outlets}function Ya(s,e,t,n,r){let i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;s===e?o=t:o=Uh(s,e,t);let a=Lh($h(o));return new xt(a,i,r)}function Uh(s,e,t){let n={};return Object.entries(s.children).forEach(([r,i])=>{i===e?n[r]=t:n[r]=Uh(i,e,t)}),new U(s.segments,n)}var eo=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Zi(n[0]))throw new B(4003,!1);let r=n.find(dr);if(r&&r!==Ah(n))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jp(s){if(typeof s[0]=="string"&&s.length===1&&s[0]==="/")return new eo(!0,0,s);let e=0,t=!1,n=s.reduce((r,i,o)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(i.segmentPath)return[...r,i.segmentPath]}return typeof i!="string"?[...r,i]:o===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,i]},[]);return new eo(t,e,n)}var hs=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function _p(s,e,t){if(s.isAbsolute)return new hs(e,!0,0);if(!t)return new hs(e,!1,NaN);if(t.parent===null)return new hs(t,!0,0);let n=Zi(s.commands[0])?0:1,r=t.segments.length-1+n;return Up(t,r,s.numberOfDoubleDots)}function Up(s,e,t){let n=s,r=e,i=t;for(;i>r;){if(i-=r,n=n.parent,!n)throw new B(4005,!1);r=n.segments.length}return new hs(n,!1,r-i)}function Fp(s){return dr(s[0])?s[0].outlets:{[N]:s}}function Fh(s,e,t){if(s!=null||(s=new U([],{})),s.segments.length===0&&s.hasChildren())return cr(s,e,t);let n=Bp(s,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<s.segments.length){let i=new U(s.segments.slice(0,n.pathIndex),{});return i.children[N]=new U(s.segments.slice(n.pathIndex),s.children),cr(i,0,r)}else return n.match&&r.length===0?new U(s.segments,{}):n.match&&!s.hasChildren()?sl(s,e,t):n.match?cr(s,0,r):sl(s,e,t)}function cr(s,e,t){if(t.length===0)return new U(s.segments,{});{let n=Fp(t),r={};if(Object.keys(n).some(i=>i!==N)&&s.children[N]&&s.numberOfChildren===1&&s.children[N].segments.length===0){let i=cr(s.children[N],e,t);return new U(s.segments,i.children)}return Object.entries(n).forEach(([i,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[i]=Fh(s.children[i],e,o))}),Object.entries(s.children).forEach(([i,o])=>{n[i]===void 0&&(r[i]=o)}),new U(s.segments,r)}}function Bp(s,e,t){let n=0,r=e,i={match:!1,pathIndex:0,commandIndex:0};for(;r<s.segments.length;){if(n>=t.length)return i;let o=s.segments[r],a=t[n];if(dr(a))break;let l=`${a}`,c=n<t.length-1?t[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!wh(l,c,o))return i;n+=2}else{if(!wh(l,{},o))return i;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function sl(s,e,t){let n=s.segments.slice(0,e),r=0;for(;r<t.length;){let i=t[r];if(dr(i)){let l=zp(i.outlets);return new U(n,l)}if(r===0&&Zi(t[0])){let l=s.segments[e];n.push(new Rn(l.path,vh(t[0]))),r++;continue}let o=dr(i)?i.outlets[N]:`${i}`,a=r<t.length-1?t[r+1]:null;o&&a&&Zi(a)?(n.push(new Rn(o,vh(a))),r+=2):(n.push(new Rn(o,{})),r++)}return new U(n,{})}function zp(s){let e={};return Object.entries(s).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=sl(new U([],{}),0,n))}),e}function vh(s){let e={};return Object.entries(s).forEach(([t,n])=>e[t]=`${n}`),e}function wh(s,e,t){return s==t.path&&Je(e,t.parameters)}var ur="imperative",Q;(function(s){s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped"})(Q||(Q={}));var Ee=class{constructor(e,t){this.id=e,this.url=t}},ms=class extends Ee{constructor(e,t,n="imperative",r=null){super(e,t),this.type=Q.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Me=class extends Ee{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=Q.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fe;(function(s){s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected"})(fe||(fe={}));var pr;(function(s){s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy"})(pr||(pr={}));var Mt=class extends Ee{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=Q.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Ee{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=Q.NavigationSkipped}},mr=class extends Ee{constructor(e,t,n,r){super(e,t),this.error=n,this.target=r,this.type=Q.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},to=class extends Ee{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Q.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends Ee{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Q.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Ee{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i,this.type=Q.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ol=class extends Ee{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Q.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class extends Ee{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=Q.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ll=class{constructor(e){this.route=e,this.type=Q.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cl=class{constructor(e){this.route=e,this.type=Q.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ul=class{constructor(e){this.snapshot=e,this.type=Q.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hl=class{constructor(e){this.snapshot=e,this.type=Q.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fl=class{constructor(e){this.snapshot=e,this.type=Q.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{constructor(e){this.snapshot=e,this.type=Q.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},no=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=Q.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},gr=class{},yr=class{constructor(e){this.url=e}};var pl=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nn,this.attachRef=null}},yn=class yn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){let n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new pl,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}};yn.\u0275fac=function(t){return new(t||yn)},yn.\u0275prov=O({token:yn,factory:yn.\u0275fac,providedIn:"root"});var Nn=yn,so=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ml(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=ml(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=gl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gl(e,this._root).map(t=>t.value)}};function ml(s,e){if(s===e.value)return e;for(let t of e.children){let n=ml(s,t);if(n)return n}return null}function gl(s,e){if(s===e.value)return[e];for(let t of e.children){let n=gl(s,t);if(n.length)return n.unshift(e),n}return[]}var ye=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Zn(s){let e={};return s&&s.children.forEach(t=>e[t.value.outlet]=t),e}var ro=class extends so{constructor(e,t){super(e),this.snapshot=t,Dl(this,e)}toString(){return this.snapshot.toString()}};function Bh(s){let e=qp(s),t=new we([new Rn("",{})]),n=new we({}),r=new we({}),i=new we({}),o=new we(""),a=new Ye(t,n,i,o,r,N,s,e.root);return a.snapshot=e.root,new ro(new ye(a,[]),e)}function qp(s){let e={},t={},n={},r="",i=new br([],e,n,r,t,N,s,null,{});return new io("",new ye(i,[]))}var Ye=class{constructor(e,t,n,r,i,o,a,l){var c,u;this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=i,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=(u=(c=this.dataSubject)==null?void 0:c.pipe(L(h=>h[Ir])))!=null?u:I(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=this.params.pipe(L(t=>ds(t)))),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=this.queryParams.pipe(L(t=>ds(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ml(s,e,t="emptyOnly"){var i,o;let n,{routeConfig:r}=s;return e!==null&&(t==="always"||(r==null?void 0:r.path)===""||!e.component&&!((i=e.routeConfig)!=null&&i.loadComponent))?n={params:w(w({},e.params),s.params),data:w(w({},e.data),s.data),resolve:w(w(w(w({},s.data),e.data),r==null?void 0:r.data),s._resolvedData)}:n={params:w({},s.params),data:w({},s.data),resolve:w(w({},s.data),(o=s._resolvedData)!=null?o:{})},r&&qh(r)&&(n.resolve[Ir]=r.title),n}var br=class{get title(){var e;return(e=this.data)==null?void 0:e[Ir]}constructor(e,t,n,r,i,o,a,l,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=ds(this.params)),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=ds(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},io=class extends so{constructor(e,t){super(t),this.url=e,Dl(this,t)}toString(){return zh(this._root)}};function Dl(s,e){e.value._routerState=s,e.children.forEach(t=>Dl(s,t))}function zh(s){let e=s.children.length>0?` { ${s.children.map(zh).join(", ")} } `:"";return`${s.value}${e}`}function Xa(s){if(s.snapshot){let e=s.snapshot,t=s._futureSnapshot;s.snapshot=t,Je(e.queryParams,t.queryParams)||s.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&s.fragmentSubject.next(t.fragment),Je(e.params,t.params)||s.paramsSubject.next(t.params),bp(e.url,t.url)||s.urlSubject.next(t.url),Je(e.data,t.data)||s.dataSubject.next(t.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function yl(s,e){let t=Je(s.params,e.params)&&kp(s.url,e.url),n=!s.parent!=!e.parent;return t&&!n&&(!s.parent||yl(s.parent,e.parent))}function qh(s){return typeof s.title=="string"||s.title===null}var ns=class ns{constructor(){this.activated=null,this._activatedRoute=null,this.name=N,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=k(Nn),this.location=k(Ks),this.changeDetector=k(Ci),this.environmentInjector=k(at),this.inputBinder=k(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:n}=e.name;if(t)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){var e;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),(e=this.inputBinder)==null||e.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){var t;return((t=this.parentContexts.getContext(e))==null?void 0:t.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e!=null&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){var n;this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),(n=this.inputBinder)==null||n.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){var l;if(this.isActivated)throw new B(4013,!1);this._activatedRoute=e;let n=this.location,i=e.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,a=new bl(e,o,n.injector);this.activated=n.createComponent(i,{index:n.length,injector:a,environmentInjector:t!=null?t:this.environmentInjector}),this.changeDetector.markForCheck(),(l=this.inputBinder)==null||l.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};ns.\u0275fac=function(t){return new(t||ns)},ns.\u0275dir=fi({type:ns,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qn]});var xn=ns,bl=class{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n,this.__ngOutletInjector=!0}get(e,t){return e===Ye?this.route:e===Nn?this.childContexts:this.parent.get(e,t)}},po=new P(""),bn=class bn{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){var t;(t=this.outletDataSubscriptions.get(e))==null||t.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,n=ai([t.queryParams,t.params,t.data]).pipe(ce(([r,i,o],a)=>(o=w(w(w({},r),i),o),a===0?I(o):Promise.resolve(o)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let i=Su(t.component);if(!i){this.unsubscribeFromRouteData(e);return}for(let{templateName:o}of i.inputs)e.activatedComponentRef.setInput(o,r[o])});this.outletDataSubscriptions.set(e,n)}};bn.\u0275fac=function(t){return new(t||bn)},bn.\u0275prov=O({token:bn,factory:bn.\u0275fac});var oo=bn;function Vp(s,e,t){let n=vr(s,e._root,t?t._root:void 0);return new ro(n,e)}function vr(s,e,t){if(t&&s.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let r=Kp(s,e,t);return new ye(n,r)}else{if(s.shouldAttach(e.value)){let i=s.retrieve(e.value);if(i!==null){let o=i.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vr(s,a)),o}}let n=Wp(e.value),r=e.children.map(i=>vr(s,i));return new ye(n,r)}}function Kp(s,e,t){return e.children.map(n=>{for(let r of t.children)if(s.shouldReuseRoute(n.value,r.value.snapshot))return vr(s,n,r);return vr(s,n)})}function Wp(s){return new Ye(new we(s.url),new we(s.params),new we(s.queryParams),new we(s.fragment),new we(s.data),s.outlet,s.component,s)}var Vh="ngNavigationCancelingError";function Kh(s,e){let{redirectTo:t,navigationBehaviorOptions:n}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Wh(!1,fe.Redirect);return r.url=t,r.navigationBehaviorOptions=n,r}function Wh(s,e){let t=new Error(`NavigationCancelingError: ${s||""}`);return t[Vh]=!0,t.cancellationCode=e,t}function Hp(s){return Hh(s)&&ps(s.url)}function Hh(s){return!!s&&s[Vh]}var ss=class ss{};ss.\u0275fac=function(t){return new(t||ss)},ss.\u0275cmp=me({type:ss,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(t,n){t&1&&ue(0,"router-outlet")},dependencies:[xn],encapsulation:2});var wr=ss;function Gp(s,e){var t;return s.providers&&!s._injector&&(s._injector=wa(s.providers,e,`Route: ${s.path}`)),(t=s._injector)!=null?t:e}function Pl(s){let e=s.children&&s.children.map(Pl),t=e?G(w({},s),{children:e}):w({},s);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==N&&(t.component=wr),t}function Xe(s){return s.outlet||N}function Jp(s,e){let t=s.filter(n=>Xe(n)===e);return t.push(...s.filter(n=>Xe(n)!==e)),t}function Rr(s){var e;if(!s)return null;if((e=s.routeConfig)!=null&&e._injector)return s.routeConfig._injector;for(let t=s.parent;t;t=t.parent){let n=t.routeConfig;if(n!=null&&n._loadedInjector)return n._loadedInjector;if(n!=null&&n._injector)return n._injector}return null}var Yp=(s,e,t,n)=>L(r=>(new vl(e,r.targetRouterState,r.currentRouterState,t,n).activate(s),r)),vl=class{constructor(e,t,n,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Xa(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let r=Zn(t);e.children.forEach(i=>{let o=i.value.outlet;this.deactivateRoutes(i,r[o],n),delete r[o]}),Object.values(r).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(e,t,n){let r=e.value,i=t?t.value:null;if(r===i)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Zn(e);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Zn(e);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let r=Zn(t);e.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],n),this.forwardEvent(new dl(i.value.snapshot))}),e.children.length&&this.forwardEvent(new hl(e.value.snapshot))}activateRoutes(e,t,n){let r=e.value,i=t?t.value:null;if(Xa(r),r===i)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xa(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Rr(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},ao=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fs=class{constructor(e,t){this.component=e,this.route=t}};function Xp(s,e,t){let n=s._root,r=e?e._root:null;return lr(n,r,t,[n.value])}function Qp(s){let e=s.routeConfig?s.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:s,guards:e}}function ys(s,e){let t=Symbol(),n=e.get(s,t);return n===t?typeof s=="function"&&!jc(s)?s:e.get(s):n}function lr(s,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=Zn(e);return s.children.forEach(o=>{Zp(o,i[o.value.outlet],t,n.concat([o.value]),r),delete i[o.value.outlet]}),Object.entries(i).forEach(([o,a])=>hr(a,t.getContext(o),r)),r}function Zp(s,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=s.value,o=e?e.value:null,a=t?t.getContext(s.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){let l=em(o,i,i.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ao(n)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?lr(s,e,a?a.children:null,n,r):lr(s,e,t,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new fs(a.outlet.component,o))}else o&&hr(e,a,r),r.canActivateChecks.push(new ao(n)),i.component?lr(s,null,a?a.children:null,n,r):lr(s,null,t,n,r);return r}function em(s,e,t){if(typeof t=="function")return t(s,e);switch(t){case"pathParamsChange":return!An(s.url,e.url);case"pathParamsOrQueryParamsChange":return!An(s.url,e.url)||!Je(s.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yl(s,e)||!Je(s.queryParams,e.queryParams);case"paramsChange":default:return!yl(s,e)}}function hr(s,e,t){let n=Zn(s),r=s.value;Object.entries(n).forEach(([i,o])=>{r.component?e?hr(o,e.children.getContext(i),t):hr(o,null,t):hr(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fs(e.outlet.component,r)):t.canDeactivateChecks.push(new fs(null,r)):t.canDeactivateChecks.push(new fs(null,r))}function Ar(s){return typeof s=="function"}function tm(s){return typeof s=="boolean"}function nm(s){return s&&Ar(s.canLoad)}function sm(s){return s&&Ar(s.canActivate)}function rm(s){return s&&Ar(s.canActivateChild)}function im(s){return s&&Ar(s.canDeactivate)}function om(s){return s&&Ar(s.canMatch)}function Gh(s){return s instanceof Oc||(s==null?void 0:s.name)==="EmptyError"}var Ji=Symbol("INITIAL_VALUE");function gs(){return ce(s=>ai(s.map(e=>e.pipe(zn(1),ci(Ji)))).pipe(L(e=>{for(let t of e)if(t!==!0){if(t===Ji)return Ji;if(t===!1||t instanceof xt)return t}return!0}),it(e=>e!==Ji),zn(1)))}function am(s,e){return pe(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return o.length===0&&i.length===0?I(G(w({},t),{guardsResult:!0})):lm(o,n,r,s).pipe(pe(a=>a&&tm(a)?cm(n,i,s,e):I(a)),L(a=>G(w({},t),{guardsResult:a})))})}function lm(s,e,t,n){return re(s).pipe(pe(r=>pm(r.component,r.route,t,e,n)),ze(r=>r!==!0,!0))}function cm(s,e,t,n){return re(e).pipe(wt(r=>Nc(hm(r.route.parent,n),um(r.route,n),dm(s,r.path,t),fm(s,r.route,t))),ze(r=>r!==!0,!0))}function um(s,e){return s!==null&&e&&e(new fl(s)),I(!0)}function hm(s,e){return s!==null&&e&&e(new ul(s)),I(!0)}function fm(s,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(i=>ca(()=>{var c;let o=(c=Rr(e))!=null?c:t,a=ys(i,o),l=sm(a)?a.canActivate(e,s):Se(o,()=>a(e,s));return Lt(l).pipe(ze())}));return I(r).pipe(gs())}function dm(s,e,t){let n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>Qp(o)).filter(o=>o!==null).map(o=>ca(()=>{let a=o.guards.map(l=>{var f;let c=(f=Rr(o.node))!=null?f:t,u=ys(l,c),h=rm(u)?u.canActivateChild(n,s):Se(c,()=>u(n,s));return Lt(h).pipe(ze())});return I(a).pipe(gs())}));return I(i).pipe(gs())}function pm(s,e,t,n,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return I(!0);let o=i.map(a=>{var h;let l=(h=Rr(e))!=null?h:r,c=ys(a,l),u=im(c)?c.canDeactivate(s,e,t,n):Se(l,()=>c(s,e,t,n));return Lt(u).pipe(ze())});return I(o).pipe(gs())}function mm(s,e,t,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let i=r.map(o=>{let a=ys(o,s),l=nm(a)?a.canLoad(e,t):Se(s,()=>a(e,t));return Lt(l)});return I(i).pipe(gs(),Jh(n))}function Jh(s){return Rc(te(e=>{if(ps(e))throw Kh(s,e)}),L(e=>e===!0))}function gm(s,e,t,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let i=r.map(o=>{let a=ys(o,s),l=om(a)?a.canMatch(e,t):Se(s,()=>a(e,t));return Lt(l)});return I(i).pipe(gs(),Jh(n))}var Sr=class{constructor(e){this.segmentGroup=e||null}},lo=class extends Error{constructor(e){super(),this.urlTree=e}};function Qn(s){return Us(new Sr(s))}function ym(s){return Us(new B(4e3,!1))}function bm(s){return Us(Wh(!1,fe.GuardRejected))}var wl=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[N])return ym(e.redirectTo);r=r.children[N]}}applyRedirectCommands(e,t,n){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t.startsWith("/"))throw new lo(r);return r}applyRedirectCreateUrlTree(e,t,n,r){let i=this.createSegmentGroup(e,t.root,n,r);return new xt(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([r,i])=>{if(typeof i=="string"&&i.startsWith(":")){let a=i.substring(1);n[r]=t[a]}else n[r]=i}),n}createSegmentGroup(e,t,n,r){let i=this.createSegments(e,t.segments,n,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,r)}),new U(i,o)}createSegments(e,t,n,r){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,r):this.findOrReturn(i,n))}findPosParam(e,t,n){let r=n[t.path.substring(1)];if(!r)throw new B(4001,!1);return r}findOrReturn(e,t){let n=0;for(let r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}},Sl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vm(s,e,t,n,r){let i=Ll(s,e,t);return i.matched?(n=Gp(e,n),gm(n,e,t,r).pipe(L(o=>o===!0?i:w({},Sl)))):I(i)}function Ll(s,e,t){var a,l;if(e.path==="**")return wm(t);if(e.path==="")return e.pathMatch==="full"&&(s.hasChildren()||t.length>0)?w({},Sl):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||yp)(t,s,e);if(!r)return w({},Sl);let i={};Object.entries((a=r.posParams)!=null?a:{}).forEach(([c,u])=>{i[c]=u.path});let o=r.consumed.length>0?w(w({},i),r.consumed[r.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:(l=r.posParams)!=null?l:{}}}function wm(s){return{matched:!0,parameters:s.length>0?Ah(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}function Sh(s,e,t,n){return t.length>0&&Em(s,t,n)?{segmentGroup:new U(e,km(n,new U(t,s.children))),slicedSegments:[]}:t.length===0&&Cm(s,t,n)?{segmentGroup:new U(s.segments,Sm(s,t,n,s.children)),slicedSegments:t}:{segmentGroup:new U(s.segments,s.children),slicedSegments:t}}function Sm(s,e,t,n){let r={};for(let i of t)if(mo(s,e,i)&&!n[Xe(i)]){let o=new U([],{});r[Xe(i)]=o}return w(w({},n),r)}function km(s,e){let t={};t[N]=e;for(let n of s)if(n.path===""&&Xe(n)!==N){let r=new U([],{});t[Xe(n)]=r}return t}function Em(s,e,t){return t.some(n=>mo(s,e,n)&&Xe(n)!==N)}function Cm(s,e,t){return t.some(n=>mo(s,e,n))}function mo(s,e,t){return(s.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Tm(s,e,t,n){return Xe(s)!==n&&(n===N||!mo(e,t,s))?!1:Ll(e,s,t).matched}function Im(s,e,t){return e.length===0&&!s.children[t]}var kl=class{};function Rm(s,e,t,n,r,i,o="emptyOnly"){return new El(s,e,t,n,r,o,i).recognize()}var Am=31,El=class{constructor(e,t,n,r,i,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=Sh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(t=>{let n=new br([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},N,this.rootComponentType,null,{}),r=new ye(n,t),i=new io("",r),o=$p(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(i._root,null),{state:i,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,N).pipe(qt(n=>{if(n instanceof lo)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Sr?this.noMatchError(n):n}))}inheritParamsAndData(e,t){let n=e.value,r=Ml(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(e,t,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,r,!0).pipe(L(i=>i instanceof ye?[i]:[]))}processChildren(e,t,n){let r=[];for(let i of Object.keys(n.children))i==="primary"?r.unshift(i):r.push(i);return re(r).pipe(wt(i=>{let o=n.children[i],a=Jp(t,i);return this.processSegmentGroup(e,a,o,i)}),Lc((i,o)=>(i.push(...o),i)),ua(null),Pc(),pe(i=>{if(i===null)return Qn(n);let o=Yh(i);return Om(o),I(o)}))}processSegment(e,t,n,r,i,o){return re(t).pipe(wt(a=>{var l;return this.processSegmentAgainstRoute((l=a._injector)!=null?l:e,t,a,n,r,i,o).pipe(qt(c=>{if(c instanceof Sr)return I(null);throw c}))}),ze(a=>!!a),qt(a=>{if(Gh(a))return Im(n,r,i)?I(new kl):Qn(n);throw a}))}processSegmentAgainstRoute(e,t,n,r,i,o,a){return Tm(n,r,i,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,i,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,n,i,o):Qn(r):Qn(r)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Ll(t,r,i);if(!a)return Qn(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Am&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(pe(f=>this.processSegment(e,n,t,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){let o=vm(t,n,r,e,this.urlSerializer);return n.path==="**"&&(t.children={}),o.pipe(ce(a=>{var l;return a.matched?(e=(l=n._injector)!=null?l:e,this.getChildConfig(e,n,r).pipe(ce(({routes:c})=>{var b,C,T;let u=(b=n._loadedInjector)!=null?b:e,{consumedSegments:h,remainingSegments:f,parameters:d}=a,m=new br(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,xm(n),Xe(n),(T=(C=n.component)!=null?C:n._loadedComponent)!=null?T:null,n,Mm(n)),{segmentGroup:p,slicedSegments:g}=Sh(t,h,f,c);if(g.length===0&&p.hasChildren())return this.processChildren(u,c,p).pipe(L(R=>R===null?null:new ye(m,R)));if(c.length===0&&g.length===0)return I(new ye(m,[]));let v=Xe(n)===i;return this.processSegment(u,c,p,g,v?N:i,!0).pipe(L(R=>new ye(m,R instanceof ye?[R]:[])))}))):Qn(t)}))}getChildConfig(e,t,n){return t.children?I({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?I({routes:t._loadedRoutes,injector:t._loadedInjector}):mm(e,t,n,this.urlSerializer).pipe(pe(r=>r?this.configLoader.loadChildren(e,t).pipe(te(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):bm(t))):I({routes:[],injector:e})}};function Om(s){s.sort((e,t)=>e.value.outlet===N?-1:t.value.outlet===N?1:e.value.outlet.localeCompare(t.value.outlet))}function Nm(s){let e=s.value.routeConfig;return e&&e.path===""}function Yh(s){let e=[],t=new Set;for(let n of s){if(!Nm(n)){e.push(n);continue}let r=e.find(i=>n.value.routeConfig===i.value.routeConfig);r!==void 0?(r.children.push(...n.children),t.add(r)):e.push(n)}for(let n of t){let r=Yh(n.children);e.push(new ye(n.value,r))}return e.filter(n=>!t.has(n))}function xm(s){return s.data||{}}function Mm(s){return s.resolve||{}}function Dm(s,e,t,n,r,i){return pe(o=>Rm(s,e,t,n,o.extractedUrl,r,i).pipe(L(({state:a,tree:l})=>G(w({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Pm(s,e){return pe(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return I(t);let i=new Set(r.map(l=>l.route)),o=new Set;for(let l of i)if(!o.has(l))for(let c of Xh(l))o.add(c);let a=0;return re(o).pipe(wt(l=>i.has(l)?Lm(l,n,s,e):(l.data=Ml(l,l.parent,s).resolve,I(void 0))),te(()=>a++),ha(1),pe(l=>a===o.size?I(t):vt))})}function Xh(s){let e=s.children.map(t=>Xh(t)).flat();return[s,...e]}function Lm(s,e,t,n){let r=s.routeConfig,i=s._resolve;return(r==null?void 0:r.title)!==void 0&&!qh(r)&&(i[Ir]=r.title),$m(i,s,e,n).pipe(L(o=>(s._resolvedData=o,s.data=Ml(s,s.parent,t).resolve,null)))}function $m(s,e,t,n){let r=el(s);if(r.length===0)return I({});let i={};return re(r).pipe(pe(o=>jm(s[o],e,t,n).pipe(ze(),te(a=>{i[o]=a}))),ha(1),li(i),qt(o=>Gh(o)?vt:Us(o)))}function jm(s,e,t,n){var a;let r=(a=Rr(e))!=null?a:n,i=ys(s,r),o=i.resolve?i.resolve(e,t):Se(r,()=>i(e,t));return Lt(o)}function Qa(s){return ce(e=>{let t=s(e);return t?re(t).pipe(L(()=>e)):I(e)})}var rs=class rs{buildTitle(e){var r;let t,n=e.root;for(;n!==void 0;)t=(r=this.getResolvedTitleForRoute(n))!=null?r:t,n=n.children.find(i=>i.outlet===N);return t}getResolvedTitleForRoute(e){return e.data[Ir]}};rs.\u0275fac=function(t){return new(t||rs)},rs.\u0275prov=O({token:rs,factory:()=>k(Cl),providedIn:"root"});var co=rs,vn=class vn extends co{constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}};vn.\u0275fac=function(t){return new(t||vn)(A(Wi))},vn.\u0275prov=O({token:vn,factory:vn.\u0275fac,providedIn:"root"});var Cl=vn,Or=new P("",{providedIn:"root",factory:()=>({})}),kr=new P(""),wn=class wn{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Ei)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return I(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=Lt(e.loadComponent()).pipe(L(Qh),te(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),Vt(()=>{this.componentLoaders.delete(e)})),n=new la(t,()=>new ve).pipe(aa());return this.componentLoaders.set(e,n),n}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return I({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let r=_m(t,this.compiler,e,this.onLoadEndListener).pipe(Vt(()=>{this.childrenLoaders.delete(t)})),i=new la(r,()=>new ve).pipe(aa());return this.childrenLoaders.set(t,i),i}};wn.\u0275fac=function(t){return new(t||wn)},wn.\u0275prov=O({token:wn,factory:wn.\u0275fac,providedIn:"root"});var Er=wn;function _m(s,e,t,n){return Lt(s.loadChildren()).pipe(L(Qh),pe(r=>r instanceof tu||Array.isArray(r)?I(r):re(e.compileModuleAsync(r))),L(r=>{n&&n(s);let i,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(i=r.create(t).injector,o=i.get(kr,[],{optional:!0,self:!0}).flat()),{routes:o.map(Pl),injector:i}}))}function Um(s){return s&&typeof s=="object"&&"default"in s}function Qh(s){return Um(s)?s.default:s}var is=class is{};is.\u0275fac=function(t){return new(t||is)},is.\u0275prov=O({token:is,factory:()=>k(Tl),providedIn:"root"});var Cr=is,Sn=class Sn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}};Sn.\u0275fac=function(t){return new(t||Sn)},Sn.\u0275prov=O({token:Sn,factory:Sn.\u0275fac,providedIn:"root"});var Tl=Sn,Zh=new P(""),ef=new P("");function Fm(s,e,t){let n=s.get(ef),r=s.get(X);return s.get(J).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i,o=new Promise(c=>{i=c}),a=r.startViewTransition(()=>(i(),Bm(s))),{onViewTransitionCreated:l}=n;return l&&Se(s,()=>l({transition:a,from:e,to:t})),o})}function Bm(s){return new Promise(e=>{Zc(e,{injector:s})})}var kn=class kn{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=k(Er),this.environmentInjector=k(at),this.urlSerializer=k(On),this.rootContexts=k(Nn),this.location=k(Xs),this.inputBindingEnabled=k(po,{optional:!0})!==null,this.titleStrategy=k(co),this.options=k(Or,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Cr),this.createViewTransition=k(Zh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let e=n=>this.events.next(new ll(n)),t=n=>this.events.next(new cl(n));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e}complete(){var e;(e=this.transitions)==null||e.complete()}handleNavigationRequest(e){var n;let t=++this.navigationId;(n=this.transitions)==null||n.next(G(w(w({},this.transitions.value),e),{id:t}))}setupNavigations(e,t,n){return this.transitions=new we({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ur,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(r=>r.id!==0),L(r=>G(w({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ce(r=>{let i=!1,o=!1;return I(r).pipe(ce(a=>{var u;if(this.navigationId>r.id){let h="";return this.cancelNavigationTransition(r,h,fe.SupersededByNewNavigation),vt}this.currentTransition=r,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?G(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=(u=a.extras.onSameUrlNavigation)!=null?u:e.onSameUrlNavigation;if(!l&&c!=="reload"){let h="";return this.events.next(new Dt(a.id,this.urlSerializer.serialize(a.rawUrl),h,pr.IgnoredSameUrlNavigation)),a.resolve(null),vt}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return I(a).pipe(ce(h=>{var d,m;let f=(d=this.transitions)==null?void 0:d.getValue();return this.events.next(new ms(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==((m=this.transitions)==null?void 0:m.getValue())?vt:Promise.resolve(h)}),Dm(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),te(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=G(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new to(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:f,source:d,restoredState:m,extras:p}=a,g=new ms(h,this.urlSerializer.serialize(f),d,m);this.events.next(g);let v=Bh(this.rootComponentType).snapshot;return this.currentTransition=r=G(w({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:G(w({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,I(r)}else{let h="";return this.events.next(new Dt(a.id,this.urlSerializer.serialize(a.extractedUrl),h,pr.IgnoredByUrlHandlingStrategy)),a.resolve(null),vt}}),te(a=>{let l=new rl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),L(a=>(this.currentTransition=r=G(w({},a),{guards:Xp(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),am(this.environmentInjector,a=>this.events.next(a)),te(a=>{if(r.guardsResult=a.guardsResult,ps(a.guardsResult))throw Kh(this.urlSerializer,a.guardsResult);let l=new il(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),it(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",fe.GuardRejected),!1)),Qa(a=>{if(a.guards.canActivateChecks.length)return I(a).pipe(te(l=>{let c=new ol(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ce(l=>{let c=!1;return I(l).pipe(Pm(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",fe.NoDataFromResolver)}}))}),te(l=>{let c=new al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),Qa(a=>{let l=c=>{var h;let u=[];(h=c.routeConfig)!=null&&h.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(te(f=>{c.component=f}),L(()=>{})));for(let f of c.children)u.push(...l(f));return u};return ai(l(a.targetSnapshot.root)).pipe(ua(null),zn(1))}),Qa(()=>this.afterPreactivation()),ce(()=>{var u;let{currentSnapshot:a,targetSnapshot:l}=r,c=(u=this.createViewTransition)==null?void 0:u.call(this,this.environmentInjector,a.root,l.root);return c?re(c).pipe(L(()=>r)):I(r)}),L(a=>{let l=Vp(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=G(w({},a),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,r}),te(()=>{this.events.next(new gr)}),Yp(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),zn(1),te({next:a=>{var l;i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Me(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),(l=this.titleStrategy)==null||l.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),ui(this.transitionAbortSubject.pipe(te(a=>{throw a}))),Vt(()=>{var a;if(!i&&!o){let l="";this.cancelNavigationTransition(r,l,fe.SupersededByNewNavigation)}((a=this.currentTransition)==null?void 0:a.id)===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),qt(a=>{var l;if(o=!0,Hh(a))this.events.next(new Mt(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),Hp(a)?this.events.next(new yr(a.url)):r.resolve(!1);else{this.events.next(new mr(r.id,this.urlSerializer.serialize(r.extractedUrl),a,(l=r.targetSnapshot)!=null?l:void 0));try{r.resolve(e.errorHandler(a))}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return vt}))}))}cancelNavigationTransition(e,t,n){let r=new Mt(e.id,this.urlSerializer.serialize(e.extractedUrl),t,n);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){var e,t;return((e=this.currentTransition)==null?void 0:e.extractedUrl.toString())!==((t=this.currentTransition)==null?void 0:t.currentUrlTree.toString())}isUpdatedBrowserUrl(){var t,n;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==((t=this.currentTransition)==null?void 0:t.extractedUrl.toString())&&!((n=this.currentTransition)!=null&&n.extras.skipLocationChange)}};kn.\u0275fac=function(t){return new(t||kn)},kn.\u0275prov=O({token:kn,factory:kn.\u0275fac,providedIn:"root"});var Tr=kn;function zm(s){return s!==ur}var os=class os{};os.\u0275fac=function(t){return new(t||os)},os.\u0275prov=O({token:os,factory:()=>k(Al),providedIn:"root"});var Il=os,Rl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Ot=class Ot extends Rl{};Ot.\u0275fac=(()=>{let e;return function(n){return(e||(e=pa(Ot)))(n||Ot)}})(),Ot.\u0275prov=O({token:Ot,factory:Ot.\u0275fac,providedIn:"root"});var Al=Ot,as=class as{};as.\u0275fac=function(t){return new(t||as)},as.\u0275prov=O({token:as,factory:()=>k(Ol),providedIn:"root"});var uo=as,Nt=class Nt extends uo{constructor(){super(...arguments),this.location=k(Xs),this.urlSerializer=k(On),this.options=k(Or,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Bh(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var e,t;return this.canceledNavigationResolution!=="computed"?this.currentPageId:(t=(e=this.restoredState())==null?void 0:e.\u0275routerPageId)!=null?t:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof ms)this.stateMemento=this.createStateMemento();else if(e instanceof Dt)this.rawUrlTree=t.initialUrl;else if(e instanceof to){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(n,t)}}else e instanceof gr?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t))):e instanceof Mt&&(e.code===fe.GuardRejected||e.code===fe.NoDataFromResolver)?this.restoreHistory(t):e instanceof mr?this.restoreHistory(t,!0):e instanceof Me&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let n=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl){let r=this.browserPageId,i=w(w({},t.extras.state),this.generateNgRouterState(t.id,r));this.location.replaceState(n,"",i)}else{let r=w(w({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(n,"",r)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,r=this.currentPageId-n;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){var t;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,(t=e.finalUrl)!=null?t:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}};Nt.\u0275fac=(()=>{let e;return function(n){return(e||(e=pa(Nt)))(n||Nt)}})(),Nt.\u0275prov=O({token:Nt,factory:Nt.\u0275fac,providedIn:"root"});var Ol=Nt,es;(function(s){s[s.COMPLETE=0]="COMPLETE",s[s.FAILED=1]="FAILED",s[s.REDIRECTING=2]="REDIRECTING"})(es||(es={}));function tf(s,e){s.events.pipe(it(t=>t instanceof Me||t instanceof Mt||t instanceof mr||t instanceof Dt),L(t=>t instanceof Me||t instanceof Dt?es.COMPLETE:(t instanceof Mt?t.code===fe.Redirect||t.code===fe.SupersededByNewNavigation:!1)?es.REDIRECTING:es.FAILED),it(t=>t!==es.REDIRECTING),zn(1)).subscribe(()=>{e()})}function qm(s){throw s}var Vm={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Km={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},En=class En{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var e,t;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Gn),this.stateManager=k(uo),this.options=k(Or,{optional:!0})||{},this.pendingTasks=k(Ws),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Tr),this.urlSerializer=k(On),this.location=k(Xs),this.urlHandlingStrategy=k(Cr),this._events=new ve,this.errorHandler=this.options.errorHandler||qm,this.navigated=!1,this.routeReuseStrategy=k(Il),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(t=(e=k(kr,{optional:!0}))==null?void 0:e.flat())!=null?t:[],this.componentInputBindingEnabled=!!k(po,{optional:!0}),this.eventsSubscription=new Ic,this.isNgZoneEnabled=k(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let n=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(n!==null&&r!==null){if(this.stateManager.handleRouterEvent(t,r),t instanceof Mt&&t.code!==fe.Redirect&&t.code!==fe.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Me)this.navigated=!0;else if(t instanceof yr){let i=this.urlHandlingStrategy.merge(t.url,n.currentRawUrl),o={info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||zm(n.source)};this.scheduleNavigation(i,ur,null,o,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}Hm(t)&&this._events.next(t)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ur,this.stateManager.restoredState())}setUpLocationChangeListener(){var e;(e=this.nonRouterCurrentEntryChangeSubscription)!=null||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)}))}navigateToSyncWithBrowser(e,t,n){let r={replaceUrl:!0},i=n!=null&&n.navigationId?n:null;if(n){let a=w({},n);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(r.state=a)}let o=this.parseUrl(e);this.scheduleNavigation(o,t,i,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Pl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:a}=t,l=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=w(w({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}c!==null&&(c=this.removeEmptyProps(c));let u;try{let h=n?n.snapshot:this.routerState.snapshot.root;u=jh(h)}catch(h){(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return _h(u,e,c,l!=null?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){let n=ps(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,ur,null,t)}navigate(e,t={skipLocationChange:!1}){return Wm(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch(t){return this.urlSerializer.parse("/")}}isActive(e,t){let n;if(t===!0?n=w({},Vm):t===!1?n=w({},Km):n=t,ps(e))return yh(this.currentUrlTree,e,n);let r=this.parseUrl(e);return yh(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.entries(e).reduce((t,[n,r])=>(r!=null&&(t[n]=r),t),{})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);let o,a,l;i?(o=i.resolve,a=i.reject,l=i.promise):l=new Promise((u,h)=>{o=u,a=h});let c=this.pendingTasks.add();return tf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}};En.\u0275fac=function(t){return new(t||En)},En.\u0275prov=O({token:En,factory:En.\u0275fac,providedIn:"root"});var Ce=En;function Wm(s){for(let e=0;e<s.length;e++)if(s[e]==null)throw new B(4008,!1)}function Hm(s){return!(s instanceof gr)&&!(s instanceof yr)}var ls=class ls{constructor(e,t,n,r,i,o){var l;this.router=e,this.route=t,this.tabIndexAttribute=n,this.renderer=r,this.el=i,this.locationStrategy=o,this.href=null,this.commands=null,this.onChanges=new ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let a=(l=i.nativeElement.tagName)==null?void 0:l.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Me&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,t,n,r,i){let o=this.urlTree;if(o===null||this.isAnchorElement&&(e!==0||t||n||r||i||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(o,a),!this.isAnchorElement}ngOnDestroy(){var e;(e=this.subscription)==null||e.unsubscribe()}updateHref(){var n;let e=this.urlTree;this.href=e!==null&&this.locationStrategy?(n=this.locationStrategy)==null?void 0:n.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:Xc(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let n=this.renderer,r=this.el.nativeElement;t!==null?n.setAttribute(r,e,t):n.removeAttribute(r,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};ls.\u0275fac=function(t){return new(t||ls)(z(Ce),z(Ye),Fc("tabindex"),z(va),z(Vn),z(Ys))},ls.\u0275dir=fi({type:ls,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,n){t&1&&vi("click",function(i){return n.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),t&2&&nu("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ot.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ti],skipLocationChange:[ot.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ti],replaceUrl:[ot.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ti],routerLink:"routerLink"},standalone:!0,features:[eu,qn]});var Pt=ls,cs=class cs{get isActive(){return this._isActive}constructor(e,t,n,r,i){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=e.events.subscribe(o=>{o instanceof Me&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Fs()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;(t=this.linkInputChangesSubscription)==null||t.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=re(e).pipe(Fs()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(n=>!!n)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),(e=this.linkInputChangesSubscription)==null||e.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let t=Gm(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>{let r=n.urlTree;return r?e.isActive(r,t):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}};cs.\u0275fac=function(t){return new(t||cs)(z(Ce),z(Vn),z(va),z(Ci),z(Pt,8))},cs.\u0275dir=fi({type:cs,selectors:[["","routerLinkActive",""]],contentQueries:function(t,n,r){if(t&1&&cu(r,Pt,5),t&2){let i;uu(i=hu())&&(n.links=i)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[qn]});var ho=cs;function Gm(s){return!!s.paths}var fo=class{},Cn=class Cn{preload(e,t){return t().pipe(qt(()=>I(null)))}};Cn.\u0275fac=function(t){return new(t||Cn)},Cn.\u0275prov=O({token:Cn,factory:Cn.\u0275fac,providedIn:"root"});var kh=Cn,Tn=class Tn{preload(e,t){return I(null)}};Tn.\u0275fac=function(t){return new(t||Tn)},Tn.\u0275prov=O({token:Tn,factory:Tn.\u0275fac,providedIn:"root"});var Eh=Tn,In=class In{constructor(e,t,n,r,i){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(it(e=>e instanceof Me),wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){var r,i,o;let n=[];for(let a of t){a.providers&&!a._injector&&(a._injector=wa(a.providers,e,`Route: ${a.path}`));let l=(r=a._injector)!=null?r:e,c=(i=a._loadedInjector)!=null?i:l;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&n.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&n.push(this.processRoutes(c,(o=a.children)!=null?o:a._loadedRoutes))}return re(n).pipe(Fs())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let n;t.loadChildren&&t.canLoad===void 0?n=this.loader.loadChildren(e,t):n=I(null);let r=n.pipe(pe(i=>{var o;return i===null?I(void 0):(t._loadedRoutes=i.routes,t._loadedInjector=i.injector,this.processRoutes((o=i.injector)!=null?o:e,i.routes))}));if(t.loadComponent&&!t._loadedComponent){let i=this.loader.loadComponent(t);return re([r,i]).pipe(Fs())}else return r})}};In.\u0275fac=function(t){return new(t||In)(A(Ce),A(Ei),A(at),A(fo),A(Er))},In.\u0275prov=O({token:In,factory:In.\u0275fac,providedIn:"root"});var Nl=In,nf=new P(""),us=class us{constructor(e,t,n,r,i={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=n,this.zone=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration||(i.scrollPositionRestoration="disabled"),i.anchorScrolling||(i.anchorScrolling="disabled")}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Me?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Dt&&e.code===pr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof no&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new no(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})},0)})}ngOnDestroy(){var e,t;(e=this.routerEventsSubscription)==null||e.unsubscribe(),(t=this.scrollEventsSubscription)==null||t.unsubscribe()}};us.\u0275fac=function(t){mi()},us.\u0275prov=O({token:us,factory:us.\u0275fac});var xl=us;function sf(s,...e){return kt([{provide:kr,multi:!0,useValue:s},[],{provide:Ye,useFactory:rf,deps:[Ce]},{provide:Hs,multi:!0,useFactory:of},e.map(t=>t.\u0275providers)])}function rf(s){return s.routerState.root}function Nr(s,e){return{\u0275kind:s,\u0275providers:e}}var Cb=new P("",{providedIn:"root",factory:()=>!1});function of(){let s=k(ma);return e=>{var i,o;let t=s.get(Gs);if(e!==t.components[0])return;let n=s.get(Ce),r=s.get(af);s.get($l)===1&&n.initialNavigation(),(i=s.get(lf,null,fa.Optional))==null||i.setUpPreloading(),(o=s.get(nf,null,fa.Optional))==null||o.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var af=new P("",{factory:()=>new ve}),$l=new P("",{providedIn:"root",factory:()=>1});function Jm(){return Nr(2,[{provide:$l,useValue:0},{provide:Ta,multi:!0,deps:[ma],useFactory:e=>{let t=e.get(Cu,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let r=e.get(Ce),i=e.get(af);tf(r,()=>{n(!0)}),e.get(Tr).afterPreactivation=()=>(n(!0),i.closed?I(void 0):i),r.initialNavigation()}))}}])}function Ym(){return Nr(3,[{provide:Ta,multi:!0,useFactory:()=>{let e=k(Ce);return()=>{e.setUpLocationChangeListener()}}},{provide:$l,useValue:2}])}var lf=new P("");function Xm(s){return Nr(0,[{provide:lf,useExisting:Nl},{provide:fo,useExisting:s}])}function Qm(){return Nr(8,[oo,{provide:po,useExisting:oo}])}function Zm(s){let e=[{provide:Zh,useValue:Fm},{provide:ef,useValue:w({skipNextTransition:!!(s!=null&&s.skipInitialTransition)},s)}];return Nr(9,e)}var Ch=new P("ROUTER_FORROOT_GUARD"),eg=[Xs,{provide:On,useClass:fr},Ce,Nn,{provide:Ye,useFactory:rf,deps:[Ce]},Er,[]],ut=class ut{constructor(e){}static forRoot(e,t){return{ngModule:ut,providers:[eg,[],{provide:kr,multi:!0,useValue:e},{provide:Ch,useFactory:rg,deps:[[Ce,new hi,new _c]]},{provide:Or,useValue:t||{}},t!=null&&t.useHash?ng():sg(),tg(),t!=null&&t.preloadingStrategy?Xm(t.preloadingStrategy).\u0275providers:[],t!=null&&t.initialNavigation?ig(t):[],t!=null&&t.bindToComponentInputs?Qm().\u0275providers:[],t!=null&&t.enableViewTransitions?Zm().\u0275providers:[],og()]}}static forChild(e){return{ngModule:ut,providers:[{provide:kr,multi:!0,useValue:e}]}}};ut.\u0275fac=function(t){return new(t||ut)(A(Ch,8))},ut.\u0275mod=Oe({type:ut,imports:[xn,Pt,ho,wr],exports:[xn,Pt,ho,wr]}),ut.\u0275inj=Ae({});var Th=ut;function tg(){return{provide:nf,useFactory:()=>{let s=k(Ra),e=k(J),t=k(Or),n=k(Tr),r=k(On);return t.scrollOffset&&s.setOffset(t.scrollOffset),new xl(r,n,s,e,t)}}}function ng(){return{provide:Ys,useClass:Iu}}function sg(){return{provide:Ys,useClass:Tu}}function rg(s){return"guarded"}function ig(s){return[s.initialNavigation==="disabled"?Ym().\u0275providers:[],s.initialNavigation==="enabledBlocking"?Jm().\u0275providers:[]]}var Ih=new P("");function og(){return[{provide:Ih,useFactory:of},{provide:Hs,multi:!0,useExisting:Ih}]}var Tb=new wi("17.3.4");var lg="@",bs=class bs{constructor(e,t,n,r,i){this.doc=e,this.delegate=t,this.zone=n,this.animationType=r,this.moduleImpl=i,this._rendererFactoryPromise=null,this.scheduler=k(Qc,{optional:!0})}ngOnDestroy(){var e;(e=this._engine)==null||e.flush()}loadImpl(){var t;return((t=this.moduleImpl)!=null?t:import("./browser-PY4T3362.js")).catch(n=>{throw new B(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let i=new r(this.delegate,this._engine,this.zone);return this.delegate=i,i})}createRenderer(e,t){var i,o;let n=this.delegate.createRenderer(e,t);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let r=new _l(n);return(i=t==null?void 0:t.data)!=null&&i.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),(o=this._rendererFactoryPromise)==null||o.then(a=>{let l=a.createRenderer(e,t);r.use(l)}).catch(a=>{r.use(n)}),r}begin(){var e,t;(t=(e=this.delegate).begin)==null||t.call(e)}end(){var e,t;(t=(e=this.delegate).end)==null||t.call(e)}whenRenderingDone(){var e,t,n;return(n=(t=(e=this.delegate).whenRenderingDone)==null?void 0:t.call(e))!=null?n:Promise.resolve()}};bs.\u0275fac=function(t){mi()},bs.\u0275prov=O({token:bs,factory:bs.\u0275fac});var jl=bs,_l=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,r){this.delegate.insertBefore(e,t,n,r)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,n)),this.delegate.listen(e,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(lg)}};function cf(s="animations"){return gi("NgAsyncAnimations"),kt([{provide:Vs,useFactory:(e,t,n)=>new jl(e,t,n,s),deps:[X,Yn,J]},{provide:qc,useValue:s==="noop"?"NoopAnimations":"BrowserAnimations"}])}function zl(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Pn=zl();function mf(s){Pn=s}var gf=/[&<>"']/,cg=new RegExp(gf.source,"g"),yf=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ug=new RegExp(yf.source,"g"),hg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uf=s=>hg[s];function be(s,e){if(e){if(gf.test(s))return s.replace(cg,uf)}else if(yf.test(s))return s.replace(ug,uf);return s}var fg=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function dg(s){return s.replace(fg,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var pg=/(^|[^\[])\^/g;function F(s,e){let t=typeof s=="string"?s:s.source;e=e||"";let n={replace:(r,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(pg,"$1"),t=t.replace(r,o),n},getRegex:()=>new RegExp(t,e)};return n}function hf(s){try{s=encodeURI(s).replace(/%25/g,"%")}catch(e){return null}return s}var Mr={exec:()=>null};function ff(s,e){let t=s.replace(/\|/g,(i,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),n=t.split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function go(s,e,t){let n=s.length;if(n===0)return"";let r=0;for(;r<n;){let i=s.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return s.slice(0,n-r)}function mg(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return-1}function df(s,e,t,n){let r=e.href,i=e.title?be(e.title):null,o=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){n.state.inLink=!0;let a={type:"link",raw:t,href:r,title:i,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:i,text:be(o)}}function gg(s,e){let t=s.match(/^(\s+)(?:```)/);if(t===null)return e;let n=t[1];return e.split(`
`).map(r=>{let i=r.match(/^\s+/);if(i===null)return r;let[o]=i;return o.length>=n.length?r.slice(n.length):r}).join(`
`)}var vs=class{constructor(e){V(this,"options");V(this,"rules");V(this,"lexer");this.options=e||Pn}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:go(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=gg(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){let r=go(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);n=go(n.replace(/^ *>[ \t]?/gm,""),`
`);let r=this.lexer.state.top;this.lexer.state.top=!0;let i=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:i,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",c=!1;for(;e;){let u=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let h=t[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),f=e.split(`
`,1)[0],d=0;this.options.pedantic?(d=2,l=h.trimStart()):(d=t[2].search(/[^ ]/),d=d>4?1:d,l=h.slice(d),d+=t[1].length);let m=!1;if(!h&&/^ *$/.test(f)&&(a+=f+`
`,e=e.substring(f.length+1),u=!0),!u){let v=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,d-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),C=new RegExp(`^ {0,${Math.min(3,d-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,d-1)}}#`);for(;e;){let R=e.split(`
`,1)[0];if(f=R,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),C.test(f)||T.test(f)||v.test(f)||b.test(e))break;if(f.search(/[^ ]/)>=d||!f.trim())l+=`
`+f.slice(d);else{if(m||h.search(/[^ ]/)>=4||C.test(h)||T.test(h)||b.test(h))break;l+=`
`+f}!m&&!f.trim()&&(m=!0),a+=R+`
`,e=e.substring(R.length+1),h=f.slice(d)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let p=null,g;this.options.gfm&&(p=/^\[[ xX]\] /.exec(l),p&&(g=p[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!p,checked:g,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let u=0;u<i.items.length;u++)if(this.lexer.state.top=!1,i.items[u].tokens=this.lexer.blockTokens(i.items[u].text,[]),!i.loose){let h=i.items[u].tokens.filter(d=>d.type==="space"),f=h.length>0&&h.some(d=>/\n.*\n/.test(d.raw));i.loose=f}if(i.loose)for(let u=0;u<i.items.length;u++)i.items[u].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let n=ff(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a of n)o.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of i)o.rows.push(ff(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:be(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let o=go(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=mg(t[2],"()");if(o>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),df(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," "),i=t[r.toLowerCase()];if(!i){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return df(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let o=[...r[0]].length-1,a,l,c=o,u=0,h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+o);(r=h.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let f=[...r[0]][0].length,d=e.slice(0,o+r.index+f+l);if(Math.min(o,l)%2){let p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}let m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=be(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=be(t[1]),r="mailto:"+n):(n=be(t[1]),r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n,r;let t;if(t=this.rules.inline.url.exec(e)){let i,o;if(t[2]==="@")i=be(t[0]),o="mailto:"+i;else{let a;do a=t[0],t[0]=(r=(n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])!=null?r:"";while(a!==t[0]);i=be(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=be(t[0]),{type:"text",raw:t[0],text:n}}}},yg=/^(?: *(?:\n|$))+/,bg=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,vg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Lr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,wg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bf=/(?:[*+-]|\d{1,9}[.)])/,vf=F(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bf).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ql=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Sg=/^[^\n]+/,Vl=/(?!\s*\])(?:\\.|[^\[\]\\])+/,kg=F(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Vl).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Eg=F(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bf).getRegex(),wo="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Kl=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Cg=F("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Kl).replace("tag",wo).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wf=F(ql).replace("hr",Lr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wo).getRegex(),Tg=F(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wf).getRegex(),Wl={blockquote:Tg,code:bg,def:kg,fences:vg,heading:wg,hr:Lr,html:Cg,lheading:vf,list:Eg,newline:yg,paragraph:wf,table:Mr,text:Sg},pf=F("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Lr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wo).getRegex(),Ig=G(w({},Wl),{table:pf,paragraph:F(ql).replace("hr",Lr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",pf).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wo).getRegex()}),Rg=G(w({},Wl),{html:F(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Kl).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Mr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:F(ql).replace("hr",Lr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",vf).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),Sf=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ag=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,kf=/^( {2,}|\\)\n(?!\s*$)/,Og=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,$r="\\p{P}\\p{S}",Ng=F(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,$r).getRegex(),xg=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Mg=F(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,$r).getRegex(),Dg=F("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,$r).getRegex(),Pg=F("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,$r).getRegex(),Lg=F(/\\([punct])/,"gu").replace(/punct/g,$r).getRegex(),$g=F(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),jg=F(Kl).replace("(?:-->|$)","-->").getRegex(),_g=F("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",jg).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),bo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ug=F(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",bo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ef=F(/^!?\[(label)\]\[(ref)\]/).replace("label",bo).replace("ref",Vl).getRegex(),Cf=F(/^!?\[(ref)\](?:\[\])?/).replace("ref",Vl).getRegex(),Fg=F("reflink|nolink(?!\\()","g").replace("reflink",Ef).replace("nolink",Cf).getRegex(),Hl={_backpedal:Mr,anyPunctuation:Lg,autolink:$g,blockSkip:xg,br:kf,code:Ag,del:Mr,emStrongLDelim:Mg,emStrongRDelimAst:Dg,emStrongRDelimUnd:Pg,escape:Sf,link:Ug,nolink:Cf,punctuation:Ng,reflink:Ef,reflinkSearch:Fg,tag:_g,text:Og,url:Mr},Bg=G(w({},Hl),{link:F(/^!?\[(label)\]\((.*?)\)/).replace("label",bo).getRegex(),reflink:F(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",bo).getRegex()}),Ul=G(w({},Hl),{escape:F(Sf).replace("])","~|])").getRegex(),url:F(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),zg=G(w({},Ul),{br:F(kf).replace("{2,}","*").getRegex(),text:F(Ul.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),yo={normal:Wl,gfm:Ig,pedantic:Rg},xr={normal:Hl,gfm:Ul,breaks:zg,pedantic:Bg},ht=class s{constructor(e){V(this,"tokens");V(this,"options");V(this,"state");V(this,"tokenizer");V(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Pn,this.options.tokenizer=this.options.tokenizer||new vs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:yo.normal,inline:xr.normal};this.options.pedantic?(t.block=yo.pedantic,t.inline=xr.pedantic):this.options.gfm&&(t.block=yo.gfm,this.options.breaks?t.inline=xr.breaks:t.inline=xr.gfm),this.tokenizer.rules=t}static get rules(){return{block:yo,inline:xr}}static lex(e,t){return new s(t).lex(e)}static lexInline(e,t){return new s(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let n,r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(n=a.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=e.slice(1),c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o=e,a,l,c;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,o,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0,h=e.slice(1),f;this.options.extensions.startInline.forEach(d=>{f=d.call({lexer:this},h),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(i=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(i)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),l=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},Qe=class{constructor(e){V(this,"options");this.options=e||Pn}code(e,t,n){var i;let r=(i=(t||"").match(/^\S*/))==null?void 0:i[0];return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="language-'+be(r)+'">'+(n?e:be(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:be(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,n){let r=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+r+i+`>
`+e+"</"+r+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){let r=hf(e);if(r===null)return n;e=r;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){let r=hf(e);if(r===null)return n;e=r;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return e}},Dr=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},ft=class s{constructor(e){V(this,"options");V(this,"renderer");V(this,"textRenderer");this.options=e||Pn,this.options.renderer=this.options.renderer||new Qe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Dr}static parse(e,t){return new s(t).parse(e)}static parseInline(e,t){return new s(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let o=i,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{let o=i;n+=this.renderer.heading(this.parseInline(o.tokens),o.depth,dg(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{let o=i;n+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{let o=i,a="",l="";for(let u=0;u<o.header.length;u++)l+=this.renderer.tablecell(this.parseInline(o.header[u].tokens),{header:!0,align:o.align[u]});a+=this.renderer.tablerow(l);let c="";for(let u=0;u<o.rows.length;u++){let h=o.rows[u];l="";for(let f=0;f<h.length;f++)l+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:o.align[f]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{let o=i,a=this.parse(o.tokens);n+=this.renderer.blockquote(a);continue}case"list":{let o=i,a=o.ordered,l=o.start,c=o.loose,u="";for(let h=0;h<o.items.length;h++){let f=o.items[h],d=f.checked,m=f.task,p="";if(f.task){let g=this.renderer.checkbox(!!d);c?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=g+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=g+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:g+" "}):p+=g+" "}p+=this.parse(f.tokens,c),u+=this.renderer.listitem(p,m,!!d)}n+=this.renderer.list(u,a,l);continue}case"html":{let o=i;n+=this.renderer.html(o.text,o.block);continue}case"paragraph":{let o=i;n+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=i,a=o.tokens?this.parseInline(o.tokens):o.text;for(;r+1<e.length&&e[r+1].type==="text";)o=e[++r],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);n+=t?this.renderer.paragraph(a):a;continue}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=o||"";continue}}switch(i.type){case"escape":{let o=i;n+=t.text(o.text);break}case"html":{let o=i;n+=t.html(o.text);break}case"link":{let o=i;n+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{let o=i;n+=t.image(o.href,o.title,o.text);break}case"strong":{let o=i;n+=t.strong(this.parseInline(o.tokens,t));break}case"em":{let o=i;n+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{let o=i;n+=t.codespan(o.text);break}case"br":{n+=t.br();break}case"del":{let o=i;n+=t.del(this.parseInline(o.tokens,t));break}case"text":{let o=i;n+=t.text(o.text);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},Mn=class{constructor(e){V(this,"options");this.options=e||Pn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}};V(Mn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Pr,Bl,vo,Tf,Fl=class{constructor(...e){oa(this,Pr);oa(this,vo);V(this,"defaults",zl());V(this,"options",this.setOptions);V(this,"parse",ii(this,Pr,Bl).call(this,ht.lex,ft.parse));V(this,"parseInline",ii(this,Pr,Bl).call(this,ht.lexInline,ft.parseInline));V(this,"Parser",ft);V(this,"Renderer",Qe);V(this,"TextRenderer",Dr);V(this,"Lexer",ht);V(this,"Tokenizer",vs);V(this,"Hooks",Mn);this.use(...e)}walkTokens(e,t){var r,i;let n=[];for(let o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{let a=o;for(let l of a.header)n=n.concat(this.walkTokens(l.tokens,t));for(let l of a.rows)for(let c of l)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{let a=o;n=n.concat(this.walkTokens(a.items,t));break}default:{let a=o;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let c=a[l].flat(1/0);n=n.concat(this.walkTokens(c,t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r=w({},n);if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let o=t.renderers[i.name];o?t.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[i.level];o?o.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new Qe(this.defaults);for(let o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;let a=o,l=n.renderer[a],c=i[a];i[a]=(...u)=>{let h=l.apply(i,u);return h===!1&&(h=c.apply(i,u)),h||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new vs(this.defaults);for(let o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=n.tokenizer[a],c=i[a];i[a]=(...u)=>{let h=l.apply(i,u);return h===!1&&(h=c.apply(i,u)),h}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new Mn;for(let o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;let a=o,l=n.hooks[a],c=i[a];Mn.passThroughHooks.has(o)?i[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(i,u)).then(f=>c.call(i,f));let h=l.call(i,u);return c.call(i,h)}:i[a]=(...u)=>{let h=l.apply(i,u);return h===!1&&(h=c.apply(i,u)),h}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults=w(w({},this.defaults),r)}),this}setOptions(e){return this.defaults=w(w({},this.defaults),e),this}lexer(e,t){return ht.lex(e,t!=null?t:this.defaults)}parser(e,t){return ft.parse(e,t!=null?t:this.defaults)}};Pr=new WeakSet,Bl=function(e,t){return(n,r)=>{let i=w({},r),o=w(w({},this.defaults),i);this.defaults.async===!0&&i.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);let a=ii(this,vo,Tf).call(this,!!o.silent,!!o.async);if(typeof n=="undefined"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let l=e(n,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=t(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}},vo=new WeakSet,Tf=function(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+be(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}};var Dn=new Fl;function $(s,e){return Dn.parse(s,e)}$.options=$.setOptions=function(s){return Dn.setOptions(s),$.defaults=Dn.defaults,mf($.defaults),$};$.getDefaults=zl;$.defaults=Pn;$.use=function(...s){return Dn.use(...s),$.defaults=Dn.defaults,mf($.defaults),$};$.walkTokens=function(s,e){return Dn.walkTokens(s,e)};$.parseInline=Dn.parseInline;$.Parser=ft;$.parser=ft.parse;$.Renderer=Qe;$.TextRenderer=Dr;$.Lexer=ht;$.lexer=ht.lex;$.Tokenizer=vs;$.Hooks=Mn;$.parse=$;var Mb=$.options,Db=$.setOptions,Pb=$.use,Lb=$.walkTokens,$b=$.parseInline;var jb=ft.parse,_b=ht.lex;var qg=["*"],Vg="Copy",Kg="Copied",ws=class ws{constructor(){this._buttonClick$=new ve,this.copied$=this._buttonClick$.pipe(ce(()=>Mc(I(!0),xc(3e3).pipe(li(!1)))),Dc(),$c(1)),this.copiedText$=this.copied$.pipe(ci(!1),L(e=>e?Kg:Vg))}onCopyToClipboardClick(){this._buttonClick$.next()}};ws.\u0275fac=function(t){return new(t||ws)},ws.\u0275cmp=me({type:ws,selectors:[["markdown-clipboard"]],standalone:!0,features:[ge],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,n){t&1&&(oe(0,"button",0),ka(1,"async"),vi("click",function(){return n.onCopyToClipboardClick()}),xe(2),ka(3,"async"),ne()),t&2&&(su("copied",Ea(1,3,n.copied$)),ie(2),Kt(Ea(3,5,n.copiedText$)))},dependencies:[Ru],encapsulation:2,changeDetection:0});var jr=ws,Wg=new P("CLIPBOARD_OPTIONS");var Ss=class Ss{transform(e,t){return e==null&&(e=""),t==null&&(t=""),typeof e!="string"?(console.error(`LanguagePipe has been invoked with an invalid value type [${typeof e}]`),e):typeof t!="string"?(console.error(`LanguagePipe has been invoked with an invalid parameter [${typeof t}]`),e):"```"+t+`
`+e+"\n```"}};Ss.\u0275fac=function(t){return new(t||Ss)},Ss.\u0275pipe=da({name:"language",type:Ss,pure:!0,standalone:!0});var So=Ss,ko;(function(s){s.CommandLine="command-line",s.LineHighlight="line-highlight",s.LineNumbers="line-numbers"})(ko||(ko={}));var Rf=new P("MARKED_EXTENSIONS"),Hg=new P("MARKED_OPTIONS"),Gg="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",Jg="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",Yg="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",Xg="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",Qg="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",Zg="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",Af=new P("SECURITY_CONTEXT");var Ln=class Ln{get options(){return this._options}set options(e){this._options=w(w({},this.DEFAULT_MARKED_OPTIONS),e)}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,t,n,r,i,o,a){this.clipboardOptions=e,this.extensions=t,this.platform=r,this.securityContext=i,this.http=o,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Qe},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new ve,this.reload$=this._reload$.asObservable(),this.options=n}parse(e,t=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:n,inline:r,emoji:i,mermaid:o,disableSanitizer:a}=t,l=w(w({},this.options),t.markedOptions),c=l.renderer||this.renderer||new Qe;this.extensions&&(this.renderer=this.extendsRendererForExtensions(c)),o&&(this.renderer=this.extendsRendererForMermaid(c));let u=this.trimIndentation(e),h=n?this.decodeHtml(u):u,f=i?this.parseEmoji(h):h,d=this.parseMarked(f,l,r);return(a?d:this.sanitizer.sanitize(this.securityContext,d))||""}render(e,t=this.DEFAULT_RENDER_OPTIONS,n){let{clipboard:r,clipboardOptions:i,katex:o,katexOptions:a,mermaid:l,mermaidOptions:c}=t;o&&this.renderKatex(e,w(w({},this.DEFAULT_KATEX_OPTIONS),a)),l&&this.renderMermaid(e,w(w({},this.DEFAULT_MERMAID_OPTIONS),c)),r&&this.renderClipboard(e,n,w(w(w({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),i)),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error(Zg);return this.http.get(e,{responseType:"text"}).pipe(L(t=>this.handleExtension(e,t)))}highlight(e){if(!Wt(this.platform)||typeof Prism=="undefined"||typeof Prism.highlightAllUnder=="undefined")return;e||(e=document);let t=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(t,n=>n.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!Wt(this.platform))return e;let t=document.createElement("textarea");return t.innerHTML=e,t.value}extendsRendererForExtensions(e){var n;let t=e;return t.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(((n=this.extensions)==null?void 0:n.length)>0&&$.use(...this.extensions),t.\u0275NgxMarkdownRendererExtendedForExtensions=!0),e}extendsRendererForMermaid(e){let t=e;if(t.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return e;let n=e.code;return e.code=function(r,i,o){return i==="mermaid"?`<div class="mermaid">${r}</div>`:n.call(this,r,i,o)},t.\u0275NgxMarkdownRendererExtendedForMermaid=!0,e}handleExtension(e,t){let n=e.lastIndexOf("://"),r=n>-1?e.substring(n+4):e,i=r.lastIndexOf("/"),o=i>-1?r.substring(i+1).split("?")[0]:"",a=o.lastIndexOf("."),l=a>-1?o.substring(a+1):"";return l&&l!=="md"?"```"+l+`
`+t+"\n```":t}parseMarked(e,t,n=!1){if(t.renderer){let r=w({},t.renderer);delete r.\u0275NgxMarkdownRendererExtendedForExtensions,delete r.\u0275NgxMarkdownRendererExtendedForMermaid,delete t.renderer,$.use({renderer:r})}return n?$.parseInline(e,t):$.parse(e,t)}parseEmoji(e){if(!Wt(this.platform))return e;if(typeof joypixels=="undefined"||typeof joypixels.shortnameToUnicode=="undefined")throw new Error(Gg);return joypixels.shortnameToUnicode(e)}renderKatex(e,t){if(Wt(this.platform)){if(typeof katex=="undefined"||typeof renderMathInElement=="undefined")throw new Error(Jg);renderMathInElement(e,t)}}renderClipboard(e,t,n){if(!Wt(this.platform))return;if(typeof ClipboardJS=="undefined")throw new Error(Xg);if(!t)throw new Error(Qg);let{buttonComponent:r,buttonTemplate:i}=n,o=e.querySelectorAll("pre");for(let a=0;a<o.length;a++){let l=o.item(a),c=document.createElement("div");c.style.position="relative",l.parentNode.insertBefore(c,l),c.appendChild(l);let u=document.createElement("div");u.style.position="absolute",u.style.top=".5em",u.style.right=".5em",u.style.opacity="0",u.style.transition="opacity 250ms ease-out",u.style.zIndex="1",c.insertAdjacentElement("beforeend",u),l.onmouseover=()=>u.style.opacity="1",l.onmouseout=()=>u.style.opacity="0";let h;if(r){let d=t.createComponent(r);h=d.hostView,d.changeDetectorRef.markForCheck()}else if(i)h=t.createEmbeddedView(i);else{let d=t.createComponent(jr);h=d.hostView,d.changeDetectorRef.markForCheck()}let f;h.rootNodes.forEach(d=>{d.onmouseover=()=>u.style.opacity="1",u.appendChild(d),f=new ClipboardJS(d,{text:()=>l.innerText})}),h.onDestroy(()=>f.destroy())}}renderMermaid(e,t=this.DEFAULT_MERMAID_OPTIONS){if(!Wt(this.platform))return;if(typeof mermaid=="undefined"||typeof mermaid.initialize=="undefined")throw new Error(Yg);let n=e.querySelectorAll(".mermaid");n.length!==0&&(mermaid.initialize(t),mermaid.run({nodes:n}))}trimIndentation(e){if(!e)return"";let t;return e.split(`
`).map(n=>{let r=t;return n.length>0&&(r=isNaN(r)?n.search(/\S|$/):Math.min(n.search(/\S|$/),r)),isNaN(t)&&(t=r),r?n.substring(r):n}).join(`
`)}};Ln.\u0275fac=function(t){return new(t||Ln)(A(Wg,8),A(Rf,8),A(Hg,8),A(Ve),A(Af),A(ct,8),A(Xn))},Ln.\u0275prov=O({token:Ln,factory:Ln.\u0275fac});var _r=Ln,ks=class ks{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,t,n){this.element=e,this.markdownService=t,this.viewContainerRef=n,this.error=new qe,this.load=new qe,this.ready=new qe,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new ve}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(ui(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,t=!1){return rt(this,null,function*(){let n={decodeHtml:t,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},r={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},i=yield this.markdownService.parse(e,n);this.element.nativeElement.innerHTML=i,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,r,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(e){return e!=null&&`${String(e)}`!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e).then(()=>{this.load.emit(e)})},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,ko.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,ko.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,t){let n=e.querySelectorAll("pre");for(let r=0;r<n.length;r++){let i=t instanceof Array?t:[t];n.item(r).classList.add(...i)}}setPluginOptions(e,t){let n=e.querySelectorAll("pre");for(let r=0;r<n.length;r++)Object.keys(t).forEach(i=>{let o=t[i];if(o){let a=this.toLispCase(i);n.item(r).setAttribute(a,o.toString())}})}toLispCase(e){let t=e.match(/([A-Z])/g);if(!t)return e;let n=e.toString();for(let r=0,i=t.length;r<i;r++)n=n.replace(new RegExp(t[r]),"-"+t[r].toLowerCase());return n.slice(0,1)==="-"&&(n=n.slice(1)),n}};ks.\u0275fac=function(t){return new(t||ks)(z(Vn),z(_r),z(Ks))},ks.\u0275cmp=me({type:ks,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[qn,ge],ngContentSelectors:qg,decls:1,vars:0,template:function(t,n){t&1&&(au(),lu(0))},encapsulation:2});var Cs=ks,Es=class Es{constructor(e,t,n,r,i){this.domSanitizer=e,this.elementRef=t,this.markdownService=n,this.viewContainerRef=r,this.zone=i}transform(e,t){return rt(this,null,function*(){if(e==null)return"";if(typeof e!="string")return console.error(`MarkdownPipe has been invoked with an invalid value type [${typeof e}]`),e;let n=yield this.markdownService.parse(e,t);return this.zone.onStable.pipe(ze()).subscribe(()=>this.markdownService.render(this.elementRef.nativeElement,t,this.viewContainerRef)),this.domSanitizer.bypassSecurityTrustHtml(n)})}};Es.\u0275fac=function(t){return new(t||Es)(z(Xn,16),z(Vn,16),z(_r,16),z(Ks,16),z(J,16))},Es.\u0275pipe=da({name:"markdown",type:Es,pure:!0,standalone:!0});var Eo=Es;function Gl(s){var e,t,n,r,i;return[_r,(e=s==null?void 0:s.loader)!=null?e:[],(t=s==null?void 0:s.clipboardOptions)!=null?t:[],(n=s==null?void 0:s.markedOptions)!=null?n:[],{provide:Rf,useValue:(r=s==null?void 0:s.markedExtensions)!=null?r:[]},{provide:Af,useValue:(i=s==null?void 0:s.sanitize)!=null?i:Ke.HTML}]}var dt=class dt{static forRoot(e){return{ngModule:dt,providers:[Gl(e)]}}static forChild(){return{ngModule:dt}}};dt.\u0275fac=function(t){return new(t||dt)},dt.\u0275mod=Oe({type:dt,imports:[Et,jr,So,Cs,Eo],exports:[jr,So,Cs,Eo]}),dt.\u0275inj=Ae({imports:[Et]});var Co=dt,If;(function(s){let e;(function(r){r.Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox"})(e=s.SecurityLevel||(s.SecurityLevel={}));let t;(function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"})(t=s.Theme||(s.Theme={}));let n;(function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"})(n=s.LogLevel||(s.LogLevel={}))})(If||(If={}));var To=Symbol.for("yaml.alias"),Io=Symbol.for("yaml.document"),De=Symbol.for("yaml.map"),Jl=Symbol.for("yaml.pair"),Te=Symbol.for("yaml.scalar"),pt=Symbol.for("yaml.seq"),he=Symbol.for("yaml.node.type"),Pe=s=>!!s&&typeof s=="object"&&s[he]===To,mt=s=>!!s&&typeof s=="object"&&s[he]===Io,Le=s=>!!s&&typeof s=="object"&&s[he]===De,M=s=>!!s&&typeof s=="object"&&s[he]===Jl,x=s=>!!s&&typeof s=="object"&&s[he]===Te,$e=s=>!!s&&typeof s=="object"&&s[he]===pt;function _(s){if(s&&typeof s=="object")switch(s[he]){case De:case pt:return!0}return!1}function j(s){if(s&&typeof s=="object")switch(s[he]){case To:case De:case Te:case pt:return!0}return!1}var Of=s=>(x(s)||_(s))&&!!s.anchor;var de=Symbol("break visit"),Nf=Symbol("skip children"),Ze=Symbol("remove node");function je(s,e){let t=xf(e);mt(s)?Ts(null,s.contents,t,Object.freeze([s]))===Ze&&(s.contents=null):Ts(null,s,t,Object.freeze([]))}je.BREAK=de;je.SKIP=Nf;je.REMOVE=Ze;function Ts(s,e,t,n){let r=Mf(s,e,t,n);if(j(r)||M(r))return Df(s,n,r),Ts(s,r,t,n);if(typeof r!="symbol"){if(_(e)){n=Object.freeze(n.concat(e));for(let i=0;i<e.items.length;++i){let o=Ts(i,e.items[i],t,n);if(typeof o=="number")i=o-1;else{if(o===de)return de;o===Ze&&(e.items.splice(i,1),i-=1)}}}else if(M(e)){n=Object.freeze(n.concat(e));let i=Ts("key",e.key,t,n);if(i===de)return de;i===Ze&&(e.key=null);let o=Ts("value",e.value,t,n);if(o===de)return de;o===Ze&&(e.value=null)}}return r}function Ro(s,e){return rt(this,null,function*(){let t=xf(e);mt(s)?(yield Is(null,s.contents,t,Object.freeze([s])))===Ze&&(s.contents=null):yield Is(null,s,t,Object.freeze([]))})}Ro.BREAK=de;Ro.SKIP=Nf;Ro.REMOVE=Ze;function Is(s,e,t,n){return rt(this,null,function*(){let r=yield Mf(s,e,t,n);if(j(r)||M(r))return Df(s,n,r),Is(s,r,t,n);if(typeof r!="symbol"){if(_(e)){n=Object.freeze(n.concat(e));for(let i=0;i<e.items.length;++i){let o=yield Is(i,e.items[i],t,n);if(typeof o=="number")i=o-1;else{if(o===de)return de;o===Ze&&(e.items.splice(i,1),i-=1)}}}else if(M(e)){n=Object.freeze(n.concat(e));let i=yield Is("key",e.key,t,n);if(i===de)return de;i===Ze&&(e.key=null);let o=yield Is("value",e.value,t,n);if(o===de)return de;o===Ze&&(e.value=null)}}return r})}function xf(s){return typeof s=="object"&&(s.Collection||s.Node||s.Value)?Object.assign({Alias:s.Node,Map:s.Node,Scalar:s.Node,Seq:s.Node},s.Value&&{Map:s.Value,Scalar:s.Value,Seq:s.Value},s.Collection&&{Map:s.Collection,Seq:s.Collection},s):s}function Mf(s,e,t,n){var r,i,o,a,l;if(typeof t=="function")return t(s,e,n);if(Le(e))return(r=t.Map)==null?void 0:r.call(t,s,e,n);if($e(e))return(i=t.Seq)==null?void 0:i.call(t,s,e,n);if(M(e))return(o=t.Pair)==null?void 0:o.call(t,s,e,n);if(x(e))return(a=t.Scalar)==null?void 0:a.call(t,s,e,n);if(Pe(e))return(l=t.Alias)==null?void 0:l.call(t,s,e,n)}function Df(s,e,t){let n=e[e.length-1];if(_(n))n.items[s]=t;else if(M(n))s==="key"?n.key=t:n.value=t;else if(mt(n))n.contents=t;else{let r=Pe(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}var ty={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},ny=s=>s.replace(/[!,[\]{}]/g,e=>ty[e]),et=class s{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},s.defaultYaml,e),this.tags=Object.assign({},s.defaultTags,t)}clone(){let e=new s(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new s(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:s.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},s.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:s.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},s.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(n.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[i,o]=n;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;let[i]=n;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{let o=/^\d+\.\d+$/.test(i);return t(6,`Unsupported YAML version ${i}`,o),!1}}default:return t(0,`Unknown directive ${r}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}let[,n,r]=e.match(new RegExp("^(.*!)([^!]*)$","s"));r||t(`The ${e} tag has no suffix`);let i=this.tags[n];if(i)try{return i+decodeURIComponent(r)}catch(o){return t(String(o)),null}return n==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+ny(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),r;if(e&&n.length>0&&j(e.contents)){let i={};je(e.contents,(o,a)=>{j(a)&&a.tag&&(i[a.tag]=!0)}),r=Object.keys(i)}else r=[];for(let[i,o]of n)i==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&t.push(`%TAG ${i} ${o}`);return t.join(`
`)}};et.defaultYaml={explicit:!1,version:"1.2"};et.defaultTags={"!!":"tag:yaml.org,2002:"};function Ao(s){if(/[\x00-\x19\s,[\]{}]/.test(s)){let t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(s)}`;throw new Error(t)}return!0}function Yl(s){let e=new Set;return je(s,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function Xl(s,e){for(let t=1;;++t){let n=`${s}${t}`;if(!e.has(n))return n}}function Pf(s,e){let t=[],n=new Map,r=null;return{onAnchor:i=>{t.push(i),r||(r=Yl(s));let o=Xl(e,r);return r.add(o),o},setAnchors:()=>{for(let i of t){let o=n.get(i);if(typeof o=="object"&&o.anchor&&(x(o.node)||_(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:n}}function $t(s,e,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let r=0,i=n.length;r<i;++r){let o=n[r],a=$t(s,n,String(r),o);a===void 0?delete n[r]:a!==o&&(n[r]=a)}else if(n instanceof Map)for(let r of Array.from(n.keys())){let i=n.get(r),o=$t(s,n,r,i);o===void 0?n.delete(r):o!==i&&n.set(r,o)}else if(n instanceof Set)for(let r of Array.from(n)){let i=$t(s,n,r,r);i===void 0?n.delete(r):i!==r&&(n.delete(r),n.add(i))}else for(let[r,i]of Object.entries(n)){let o=$t(s,n,r,i);o===void 0?delete n[r]:o!==i&&(n[r]=o)}return s.call(e,t,n)}function Z(s,e,t){if(Array.isArray(s))return s.map((n,r)=>Z(n,String(r),t));if(s&&typeof s.toJSON=="function"){if(!t||!Of(s))return s.toJSON(e,t);let n={aliasCount:0,count:1,res:void 0};t.anchors.set(s,n),t.onCreate=i=>{n.res=i,delete t.onCreate};let r=s.toJSON(e,t);return t.onCreate&&t.onCreate(r),r}return typeof s=="bigint"&&!(t!=null&&t.keep)?Number(s):s}var jt=class{constructor(e){Object.defineProperty(this,he,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:r,reviver:i}={}){if(!mt(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=Z(this,"",o);if(typeof r=="function")for(let{count:l,res:c}of o.anchors.values())r(c,l);return typeof i=="function"?$t(i,{"":a},"",a):a}};var gt=class extends jt{constructor(e){super(To),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return je(e,{Node:(n,r)=>{if(r===this)return je.BREAK;r.anchor===this.source&&(t=r)}}),t}toJSON(e,t){if(!t)return{source:this.source};let{anchors:n,doc:r,maxAliasCount:i}=t,o=this.resolve(r);if(!o){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=n.get(o);if(a||(Z(o,null,t),a=n.get(o)),!a||a.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Oo(r,o,n)),a.count*a.aliasCount>i)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,n){let r=`*${this.source}`;if(e){if(Ao(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${r} `}return r}};function Oo(s,e,t){if(Pe(e)){let n=e.resolve(s),r=t&&n&&t.get(n);return r?r.count*r.aliasCount:0}else if(_(e)){let n=0;for(let r of e.items){let i=Oo(s,r,t);i>n&&(n=i)}return n}else if(M(e)){let n=Oo(s,e.key,t),r=Oo(s,e.value,t);return Math.max(n,r)}return 1}var No=s=>!s||typeof s!="function"&&typeof s!="object",E=class extends jt{constructor(e){super(Te),this.value=e}toJSON(e,t){return t!=null&&t.keep?this.value:Z(this.value,e,t)}toString(){return String(this.value)}};E.BLOCK_FOLDED="BLOCK_FOLDED";E.BLOCK_LITERAL="BLOCK_LITERAL";E.PLAIN="PLAIN";E.QUOTE_DOUBLE="QUOTE_DOUBLE";E.QUOTE_SINGLE="QUOTE_SINGLE";var sy="tag:yaml.org,2002:";function ry(s,e,t){var n;if(e){let r=t.filter(o=>o.tag===e),i=(n=r.find(o=>!o.format))!=null?n:r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,s))&&!r.format})}function yt(s,e,t){var h,f,d;if(mt(s)&&(s=s.contents),j(s))return s;if(M(s)){let m=(f=(h=t.schema[De]).createNode)==null?void 0:f.call(h,t.schema,null,t);return m.items.push(s),m}(s instanceof String||s instanceof Number||s instanceof Boolean||typeof BigInt!="undefined"&&s instanceof BigInt)&&(s=s.valueOf());let{aliasDuplicateObjects:n,onAnchor:r,onTagObj:i,schema:o,sourceObjects:a}=t,l;if(n&&s&&typeof s=="object"){if(l=a.get(s),l)return l.anchor||(l.anchor=r(s)),new gt(l.anchor);l={anchor:null,node:null},a.set(s,l)}e!=null&&e.startsWith("!!")&&(e=sy+e.slice(2));let c=ry(s,e,o.tags);if(!c){if(s&&typeof s.toJSON=="function"&&(s=s.toJSON()),!s||typeof s!="object"){let m=new E(s);return l&&(l.node=m),m}c=s instanceof Map?o[De]:Symbol.iterator in Object(s)?o[pt]:o[De]}i&&(i(c),delete t.onTagObj);let u=c!=null&&c.createNode?c.createNode(t.schema,s,t):typeof((d=c==null?void 0:c.nodeClass)==null?void 0:d.from)=="function"?c.nodeClass.from(t.schema,s,t):new E(s);return e?u.tag=e:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Ur(s,e,t){let n=t;for(let r=e.length-1;r>=0;--r){let i=e[r];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){let o=[];o[i]=n,n=o}else n=new Map([[i,n]])}return yt(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:s,sourceObjects:new Map})}var Rs=s=>s==null||typeof s=="object"&&!!s[Symbol.iterator]().next().done,$n=class extends jt{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(n=>j(n)||M(n)?n.clone(e):n),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Rs(e))this.add(t);else{let[n,...r]=e,i=this.get(n,!0);if(_(i))i.addIn(r,t);else if(i===void 0&&this.schema)this.set(n,Ur(this.schema,r,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}deleteIn(e){let[t,...n]=e;if(n.length===0)return this.delete(t);let r=this.get(t,!0);if(_(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){let[n,...r]=e,i=this.get(n,!0);return r.length===0?!t&&x(i)?i.value:i:_(i)?i.getIn(r,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!M(t))return!1;let n=t.value;return n==null||e&&x(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[t,...n]=e;if(n.length===0)return this.has(t);let r=this.get(t,!0);return _(r)?r.hasIn(n):!1}setIn(e,t){let[n,...r]=e;if(r.length===0)this.set(n,t);else{let i=this.get(n,!0);if(_(i))i.setIn(r,t);else if(i===void 0&&this.schema)this.set(n,Ur(this.schema,r,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}}};$n.maxFlowStringSingleLineLength=60;var Lf=s=>s.replace(/^(?!$)(?: $)?/gm,"#");function Ie(s,e){return/^\n+$/.test(s)?s.substring(1):e?s.replace(/^(?! *$)/gm,e):s}var tt=(s,e,t)=>s.endsWith(`
`)?Ie(t,e):t.includes(`
`)?`
`+Ie(t,e):(s.endsWith(" ")?"":" ")+t;var Ql="flow",xo="block",Fr="quoted";function Br(s,e,t="flow",{indentAtStart:n,lineWidth:r=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return s;let l=Math.max(1+i,1+r-e.length);if(s.length<=l)return s;let c=[],u={},h=r-e.length;typeof n=="number"&&(n>r-Math.max(2,i)?c.push(0):h=r-n);let f,d,m=!1,p=-1,g=-1,v=-1;t===xo&&(p=$f(s,p,e.length),p!==-1&&(h=p+l));for(let C;C=s[p+=1];){if(t===Fr&&C==="\\"){switch(g=p,s[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}v=p}if(C===`
`)t===xo&&(p=$f(s,p,e.length)),h=p+e.length+l,f=void 0;else{if(C===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){let T=s[p+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(f=p)}if(p>=h)if(f)c.push(f),h=f+l,f=void 0;else if(t===Fr){for(;d===" "||d==="	";)d=C,C=s[p+=1],m=!0;let T=p>v+1?p-2:g-1;if(u[T])return s;c.push(T),u[T]=!0,h=T+l,f=void 0}else m=!0}d=C}if(m&&a&&a(),c.length===0)return s;o&&o();let b=s.slice(0,c[0]);for(let C=0;C<c.length;++C){let T=c[C],R=c[C+1]||s.length;T===0?b=`
${e}${s.slice(0,R)}`:(t===Fr&&u[T]&&(b+=`${s[T]}\\`),b+=`
${e}${s.slice(T+1,R)}`)}return b}function $f(s,e,t){let n=e,r=e+1,i=s[r];for(;i===" "||i==="	";)if(e<r+t)i=s[++e];else{do i=s[++e];while(i&&i!==`
`);n=e,r=e+1,i=s[r]}return n}var Do=(s,e)=>({indentAtStart:e?s.indent.length:s.indentAtStart,lineWidth:s.options.lineWidth,minContentWidth:s.options.minContentWidth}),Po=s=>/^(%|---|\.\.\.)/m.test(s);function iy(s,e,t){if(!e||e<0)return!1;let n=e-t,r=s.length;if(r<=n)return!1;for(let i=0,o=0;i<r;++i)if(s[i]===`
`){if(i-o>n)return!0;if(o=i+1,r-o<=n)return!1}return!0}function zr(s,e){let t=JSON.stringify(s);if(e.options.doubleQuotedAsJSON)return t;let{implicitKey:n}=e,r=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Po(s)?"  ":""),o="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(o+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{o+=t.slice(a,l);let u=t.substr(l+2,4);switch(u){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:u.substr(0,2)==="00"?o+="\\x"+u.substr(2):o+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||t[l+2]==='"'||t.length<r)l+=1;else{for(o+=t.slice(a,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)o+=`
`,l+=2;o+=i,t[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+t.slice(a):t,n?o:Br(o,i,Fr,Do(e,!1))}function Zl(s,e){if(e.options.singleQuote===!1||e.implicitKey&&s.includes(`
`)||/[ \t]\n|\n[ \t]/.test(s))return zr(s,e);let t=e.indent||(Po(s)?"  ":""),n="'"+s.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?n:Br(n,t,Ql,Do(e,!1))}function As(s,e){let{singleQuote:t}=e.options,n;if(t===!1)n=zr;else{let r=s.includes('"'),i=s.includes("'");r&&!i?n=Zl:i&&!r?n=zr:n=t?Zl:zr}return n(s,e)}var ec;try{ec=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch(s){ec=/\n+(?!\n|$)/g}function Mo({comment:s,type:e,value:t},n,r,i){let{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return As(t,n);let c=n.indent||(n.forceBlockIndent||Po(t)?"  ":""),u=o==="literal"?!0:o==="folded"||e===E.BLOCK_FOLDED?!1:e===E.BLOCK_LITERAL?!0:!iy(t,l,c.length);if(!t)return u?`|
`:`>
`;let h,f;for(f=t.length;f>0;--f){let S=t[f-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let d=t.substring(f),m=d.indexOf(`
`);m===-1?h="-":t===d||m!==d.length-1?(h="+",i&&i()):h="",d&&(t=t.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(ec,`$&${c}`));let p=!1,g,v=-1;for(g=0;g<t.length;++g){let S=t[g];if(S===" ")p=!0;else if(S===`
`)v=g;else break}let b=t.substring(0,v<g?v+1:g);b&&(t=t.substring(b.length),b=b.replace(/\n+/g,`$&${c}`));let T=(u?"|":">")+(p?c?"2":"1":"")+h;if(s&&(T+=" "+a(s.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return t=t.replace(/\n+/g,`$&${c}`),`${T}
${c}${b}${t}${d}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let R=Br(`${b}${t}${d}`,c,xo,Do(n,!0));return`${T}
${c}${R}`}function oy(s,e,t,n){let{type:r,value:i}=s,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:u}=e;if(a&&i.includes(`
`)||u&&/[[\]{},]/.test(i))return As(i,e);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||u||!i.includes(`
`)?As(i,e):Mo(s,e,t,n);if(!a&&!u&&r!==E.PLAIN&&i.includes(`
`))return Mo(s,e,t,n);if(Po(i)){if(l==="")return e.forceBlockIndent=!0,Mo(s,e,t,n);if(a&&l===c)return As(i,e)}let h=i.replace(/\n+/g,`$&
${l}`);if(o){let f=p=>{var g;return p.default&&p.tag!=="tag:yaml.org,2002:str"&&((g=p.test)==null?void 0:g.test(h))},{compat:d,tags:m}=e.doc.schema;if(m.some(f)||d!=null&&d.some(f))return As(i,e)}return a?h:Br(h,l,Ql,Do(e,!1))}function jn(s,e,t,n){let{implicitKey:r,inFlow:i}=e,o=typeof s.value=="string"?s:Object.assign({},s,{value:String(s.value)}),{type:a}=s;a!==E.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=E.QUOTE_DOUBLE);let l=u=>{switch(u){case E.BLOCK_FOLDED:case E.BLOCK_LITERAL:return r||i?As(o.value,e):Mo(o,e,t,n);case E.QUOTE_DOUBLE:return zr(o.value,e);case E.QUOTE_SINGLE:return Zl(o.value,e);case E.PLAIN:return oy(o,e,t,n);default:return null}},c=l(a);if(c===null){let{defaultKeyType:u,defaultStringType:h}=e.options,f=r&&u||h;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function Lo(s,e){let t=Object.assign({blockQuote:!0,commentString:Lf,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},s.schema.toStringOptions,e),n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:s,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function ay(s,e){var r,i,o,a;if(e.tag){let l=s.filter(c=>c.tag===e.tag);if(l.length>0)return(r=l.find(c=>c.format===e.format))!=null?r:l[0]}let t,n;if(x(e)){n=e.value;let l=s.filter(c=>{var u;return(u=c.identify)==null?void 0:u.call(c,n)});t=(i=l.find(c=>c.format===e.format))!=null?i:l.find(c=>!c.format)}else n=e,t=s.find(l=>l.nodeClass&&n instanceof l.nodeClass);if(!t){let l=(a=(o=n==null?void 0:n.constructor)==null?void 0:o.name)!=null?a:typeof n;throw new Error(`Tag not resolved for ${l} value`)}return t}function ly(s,e,{anchors:t,doc:n}){if(!n.directives)return"";let r=[],i=(x(s)||_(s))&&s.anchor;i&&Ao(i)&&(t.add(i),r.push(`&${i}`));let o=s.tag?s.tag:e.default?null:e.tag;return o&&r.push(n.directives.tagString(o)),r.join(" ")}function bt(s,e,t,n){var l,c;if(M(s))return s.toString(e,t,n);if(Pe(s)){if(e.doc.directives)return s.toString(e);if((l=e.resolvedAliases)!=null&&l.has(s))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(s):e.resolvedAliases=new Set([s]),s=s.resolve(e.doc)}let r,i=j(s)?s:e.doc.createNode(s,{onTagObj:u=>r=u});r||(r=ay(e.doc.schema.tags,i));let o=ly(i,r,e);o.length>0&&(e.indentAtStart=((c=e.indentAtStart)!=null?c:0)+o.length+1);let a=typeof r.stringify=="function"?r.stringify(i,e,t,n):x(i)?jn(i,e,t,n):i.toString(e,t,n);return o?x(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function jf({key:s,value:e},t,n,r){var K,D;let{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:h}}=t,f=j(s)&&s.comment||null;if(h){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(_(s)){let W="With simple keys, collection cannot be used as a key value";throw new Error(W)}}let d=!h&&(!s||f&&e==null&&!t.inFlow||_(s)||(x(s)?s.type===E.BLOCK_FOLDED||s.type===E.BLOCK_LITERAL:typeof s=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!d&&(h||!i),indent:a+l});let m=!1,p=!1,g=bt(s,t,()=>m=!0,()=>p=!0);if(!d&&!t.inFlow&&g.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(t.inFlow){if(i||e==null)return m&&n&&n(),g===""?"?":d?`? ${g}`:g}else if(i&&!h||e==null&&d)return g=`? ${g}`,f&&!m?g+=tt(g,t.indent,c(f)):p&&r&&r(),g;m&&(f=null),d?(f&&(g+=tt(g,t.indent,c(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=tt(g,t.indent,c(f))));let v,b,C;j(e)?(v=!!e.spaceBefore,b=e.commentBefore,C=e.comment):(v=!1,b=null,C=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!d&&!f&&x(e)&&(t.indentAtStart=g.length+1),p=!1,!u&&l.length>=2&&!t.inFlow&&!d&&$e(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let T=!1,R=bt(e,t,()=>T=!0,()=>p=!0),S=" ";if(f||v||b){if(S=v?`
`:"",b){let W=c(b);S+=`
${Ie(W,t.indent)}`}R===""&&!t.inFlow?S===`
`&&(S=`

`):S+=`
${t.indent}`}else if(!d&&_(e)){let W=R[0],q=R.indexOf(`
`),se=q!==-1,zt=(D=(K=t.inFlow)!=null?K:e.flow)!=null?D:e.items.length===0;if(se||!zt){let Bn=!1;if(se&&(W==="&"||W==="!")){let ee=R.indexOf(" ");W==="&"&&ee!==-1&&ee<q&&R[ee+1]==="!"&&(ee=R.indexOf(" ",ee+1)),(ee===-1||q<ee)&&(Bn=!0)}Bn||(S=`
${t.indent}`)}}else(R===""||R[0]===`
`)&&(S="");return g+=S+R,t.inFlow?T&&n&&n():C&&!T?g+=tt(g,t.indent,c(C)):p&&r&&r(),g}function $o(s,e){(s==="debug"||s==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}var _f="<<";function jo(s,e,{key:t,value:n}){if(s!=null&&s.doc.schema.merge&&cy(t))if(n=Pe(n)?n.resolve(s.doc):n,$e(n))for(let r of n.items)tc(s,e,r);else if(Array.isArray(n))for(let r of n)tc(s,e,r);else tc(s,e,n);else{let r=Z(t,"",s);if(e instanceof Map)e.set(r,Z(n,r,s));else if(e instanceof Set)e.add(r);else{let i=uy(t,r,s),o=Z(n,i,s);i in e?Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[i]=o}}return e}var cy=s=>s===_f||x(s)&&s.value===_f&&(!s.type||s.type===E.PLAIN);function tc(s,e,t){let n=s&&Pe(t)?t.resolve(s.doc):t;if(!Le(n))throw new Error("Merge sources must be maps or map aliases");let r=n.toJSON(null,s,Map);for(let[i,o]of r)e instanceof Map?e.has(i)||e.set(i,o):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function uy(s,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(j(s)&&(t!=null&&t.doc)){let n=Lo(t.doc,{});n.anchors=new Set;for(let i of t.anchors.keys())n.anchors.add(i.anchor);n.inFlow=!0,n.inStringifyKey=!0;let r=s.toString(n);if(!t.mapKeyWarned){let i=JSON.stringify(r);i.length>40&&(i=i.substring(0,36)+'..."'),$o(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return r}return JSON.stringify(e)}function Os(s,e,t){let n=yt(s,void 0,t),r=yt(e,void 0,t);return new H(n,r)}var H=class s{constructor(e,t=null){Object.defineProperty(this,he,{value:Jl}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return j(t)&&(t=t.clone(e)),j(n)&&(n=n.clone(e)),new s(t,n)}toJSON(e,t){let n=t!=null&&t.mapAsMap?new Map:{};return jo(t,n,this)}toString(e,t,n){return e!=null&&e.doc?jf(this,e,t,n):JSON.stringify(this)}};function Uo(s,e,t){var i;return(((i=e.inFlow)!=null?i:s.flow)?fy:hy)(s,e,t)}function hy({comment:s,items:e},t,{blockItemPrefix:n,flowChars:r,itemIndent:i,onChompKeep:o,onComment:a}){let{indent:l,options:{commentString:c}}=t,u=Object.assign({},t,{indent:i,type:null}),h=!1,f=[];for(let m=0;m<e.length;++m){let p=e[m],g=null;if(j(p))!h&&p.spaceBefore&&f.push(""),_o(t,f,p.commentBefore,h),p.comment&&(g=p.comment);else if(M(p)){let b=j(p.key)?p.key:null;b&&(!h&&b.spaceBefore&&f.push(""),_o(t,f,b.commentBefore,h))}h=!1;let v=bt(p,u,()=>g=null,()=>h=!0);g&&(v+=tt(v,i,c(g))),h&&g&&(h=!1),f.push(n+v)}let d;if(f.length===0)d=r.start+r.end;else{d=f[0];for(let m=1;m<f.length;++m){let p=f[m];d+=p?`
${l}${p}`:`
`}}return s?(d+=`
`+Ie(c(s),l),a&&a()):h&&o&&o(),d}function fy({items:s},e,{flowChars:t,itemIndent:n}){let{indent:r,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=e;n+=i;let l=Object.assign({},e,{indent:n,inFlow:!0,type:null}),c=!1,u=0,h=[];for(let m=0;m<s.length;++m){let p=s[m],g=null;if(j(p))p.spaceBefore&&h.push(""),_o(e,h,p.commentBefore,!1),p.comment&&(g=p.comment);else if(M(p)){let b=j(p.key)?p.key:null;b&&(b.spaceBefore&&h.push(""),_o(e,h,b.commentBefore,!1),b.comment&&(c=!0));let C=j(p.value)?p.value:null;C?(C.comment&&(g=C.comment),C.commentBefore&&(c=!0)):p.value==null&&(b!=null&&b.comment)&&(g=b.comment)}g&&(c=!0);let v=bt(p,l,()=>g=null);m<s.length-1&&(v+=","),g&&(v+=tt(v,n,a(g))),!c&&(h.length>u||v.includes(`
`))&&(c=!0),h.push(v),u=h.length}let{start:f,end:d}=t;if(h.length===0)return f+d;if(!c){let m=h.reduce((p,g)=>p+g.length+2,2);c=e.options.lineWidth>0&&m>e.options.lineWidth}if(c){let m=f;for(let p of h)m+=p?`
${i}${r}${p}`:`
`;return`${m}
${r}${d}`}else return`${f}${o}${h.join(" ")}${o}${d}`}function _o({indent:s,options:{commentString:e}},t,n,r){if(n&&r&&(n=n.replace(/^\n+/,"")),n){let i=Ie(e(n),s);t.push(i.trimStart())}}function _t(s,e){let t=x(e)?e.value:e;for(let n of s)if(M(n)&&(n.key===e||n.key===t||x(n.key)&&n.key.value===t))return n}var Y=class extends $n{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(De,e),this.items=[]}static from(e,t,n){let{keepUndefined:r,replacer:i}=n,o=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||r)&&o.items.push(Os(l,c,n))};if(t instanceof Map)for(let[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(let l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){var o;let n;M(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new H(e,e==null?void 0:e.value):n=new H(e.key,e.value);let r=_t(this.items,n.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(r){if(!t)throw new Error(`Key ${n.key} already set`);x(r.value)&&No(n.value)?r.value.value=n.value:r.value=n.value}else if(i){let a=this.items.findIndex(l=>i(n,l)<0);a===-1?this.items.push(n):this.items.splice(a,0,n)}else this.items.push(n)}delete(e){let t=_t(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){var i;let n=_t(this.items,e),r=n==null?void 0:n.value;return(i=!t&&x(r)?r.value:r)!=null?i:void 0}has(e){return!!_t(this.items,e)}set(e,t){this.add(new H(e,t),!0)}toJSON(e,t,n){let r=n?new n:t!=null&&t.mapAsMap?new Map:{};t!=null&&t.onCreate&&t.onCreate(r);for(let i of this.items)jo(t,r,i);return r}toString(e,t,n){if(!e)return JSON.stringify(this);for(let r of this.items)if(!M(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Uo(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}};var _e={collection:"map",default:!0,nodeClass:Y,tag:"tag:yaml.org,2002:map",resolve(s,e){return Le(s)||e("Expected a mapping for this tag"),s},createNode:(s,e,t)=>Y.from(s,e,t)};var ae=class extends $n{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(pt,e),this.items=[]}add(e){this.items.push(e)}delete(e){let t=Fo(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){let n=Fo(e);if(typeof n!="number")return;let r=this.items[n];return!t&&x(r)?r.value:r}has(e){let t=Fo(e);return typeof t=="number"&&t<this.items.length}set(e,t){let n=Fo(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[n];x(r)&&No(t)?r.value=t:this.items[n]=t}toJSON(e,t){let n=[];t!=null&&t.onCreate&&t.onCreate(n);let r=0;for(let i of this.items)n.push(Z(i,String(r++),t));return n}toString(e,t,n){return e?Uo(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){let{replacer:r}=n,i=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof r=="function"){let l=t instanceof Set?a:String(o++);a=r.call(t,l,a)}i.items.push(yt(a,void 0,n))}}return i}};function Fo(s){let e=x(s)?s.value:s;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}var Ue={collection:"seq",default:!0,nodeClass:ae,tag:"tag:yaml.org,2002:seq",resolve(s,e){return $e(s)||e("Expected a sequence for this tag"),s},createNode:(s,e,t)=>ae.from(s,e,t)};var Ut={identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify(s,e,t,n){return e=Object.assign({actualString:!0},e),jn(s,e,t,n)}};var _n={identify:s=>s==null,createNode:()=>new E(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new E(null),stringify:({source:s},e)=>typeof s=="string"&&_n.test.test(s)?s:e.options.nullStr};var qr={identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:s=>new E(s[0]==="t"||s[0]==="T"),stringify({source:s,value:e},t){if(s&&qr.test.test(s)){let n=s[0]==="t"||s[0]==="T";if(e===n)return s}return e?t.options.trueStr:t.options.falseStr}};function le({format:s,minFractionDigits:e,tag:t,value:n}){if(typeof n=="bigint")return String(n);let r=typeof n=="number"?n:Number(n);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(n);if(!s&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=e-(i.length-o-1);for(;a-- >0;)i+="0"}return i}var Bo={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:le},zo={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s),stringify(s){let e=Number(s.value);return isFinite(e)?e.toExponential():le(s)}},qo={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(s){let e=new E(parseFloat(s)),t=s.indexOf(".");return t!==-1&&s[s.length-1]==="0"&&(e.minFractionDigits=s.length-t-1),e},stringify:le};var Vo=s=>typeof s=="bigint"||Number.isInteger(s),nc=(s,e,t,{intAsBigInt:n})=>n?BigInt(s):parseInt(s.substring(e),t);function Uf(s,e,t){let{value:n}=s;return Vo(n)&&n>=0?t+n.toString(e):le(s)}var Ko={identify:s=>Vo(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(s,e,t)=>nc(s,2,8,t),stringify:s=>Uf(s,8,"0o")},Wo={identify:Vo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(s,e,t)=>nc(s,0,10,t),stringify:le},Ho={identify:s=>Vo(s)&&s>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(s,e,t)=>nc(s,2,16,t),stringify:s=>Uf(s,16,"0x")};var Ff=[_e,Ue,Ut,_n,qr,Ko,Wo,Ho,Bo,zo,qo];function Bf(s){return typeof s=="bigint"||Number.isInteger(s)}var Go=({value:s})=>JSON.stringify(s),dy=[{identify:s=>typeof s=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:s=>s,stringify:Go},{identify:s=>s==null,createNode:()=>new E(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Go},{identify:s=>typeof s=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:s=>s==="true",stringify:Go},{identify:Bf,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(s,e,{intAsBigInt:t})=>t?BigInt(s):parseInt(s,10),stringify:({value:s})=>Bf(s)?s.toString():JSON.stringify(s)},{identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:s=>parseFloat(s),stringify:Go}],py={default:!0,tag:"",test:/^/,resolve(s,e){return e(`Unresolved plain scalar ${JSON.stringify(s)}`),s}},zf=[_e,Ue].concat(dy,py);var Vr={identify:s=>s instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(s,e){if(typeof Buffer=="function")return Buffer.from(s,"base64");if(typeof atob=="function"){let t=atob(s.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),s},stringify({comment:s,type:e,value:t},n,r,i){let o=t,a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=E.BLOCK_LITERAL),e!==E.QUOTE_DOUBLE){let l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),u=new Array(c);for(let h=0,f=0;h<c;++h,f+=l)u[h]=a.substr(f,l);a=u.join(e===E.BLOCK_LITERAL?`
`:" ")}return jn({comment:s,type:e,value:a},n,r,i)}};function sc(s,e){var t;if($e(s))for(let n=0;n<s.items.length;++n){let r=s.items[n];if(!M(r)){if(Le(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");let i=r.items[0]||new H(new E(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){let o=(t=i.value)!=null?t:i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}s.items[n]=M(r)?r:new H(r)}}else e("Expected a sequence for this tag");return s}function rc(s,e,t){let{replacer:n}=t,r=new ae(s);r.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof n=="function"&&(o=n.call(e,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(Os(a,l,t))}return r}var Kr={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sc,createNode:rc};var Ns=class s extends ae{constructor(){super(),this.add=Y.prototype.add.bind(this),this.delete=Y.prototype.delete.bind(this),this.get=Y.prototype.get.bind(this),this.has=Y.prototype.has.bind(this),this.set=Y.prototype.set.bind(this),this.tag=s.tag}toJSON(e,t){if(!t)return super.toJSON(e);let n=new Map;t!=null&&t.onCreate&&t.onCreate(n);for(let r of this.items){let i,o;if(M(r)?(i=Z(r.key,"",t),o=Z(r.value,i,t)):i=Z(r,"",t),n.has(i))throw new Error("Ordered maps must not include duplicate keys");n.set(i,o)}return n}static from(e,t,n){let r=rc(e,t,n),i=new this;return i.items=r.items,i}};Ns.tag="tag:yaml.org,2002:omap";var Wr={collection:"seq",identify:s=>s instanceof Map,nodeClass:Ns,default:!1,tag:"tag:yaml.org,2002:omap",resolve(s,e){let t=sc(s,e),n=[];for(let{key:r}of t.items)x(r)&&(n.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):n.push(r.value));return Object.assign(new Ns,t)},createNode:(s,e,t)=>Ns.from(s,e,t)};function qf({value:s,source:e},t){return e&&(s?ic:oc).test.test(e)?e:s?t.options.trueStr:t.options.falseStr}var ic={identify:s=>s===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new E(!0),stringify:qf},oc={identify:s=>s===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new E(!1),stringify:qf};var Vf={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:s=>s.slice(-3).toLowerCase()==="nan"?NaN:s[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:le},Kf={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:s=>parseFloat(s.replace(/_/g,"")),stringify(s){let e=Number(s.value);return isFinite(e)?e.toExponential():le(s)}},Wf={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(s){let e=new E(parseFloat(s.replace(/_/g,""))),t=s.indexOf(".");if(t!==-1){let n=s.substring(t+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:le};var Hr=s=>typeof s=="bigint"||Number.isInteger(s);function Jo(s,e,t,{intAsBigInt:n}){let r=s[0];if((r==="-"||r==="+")&&(e+=1),s=s.substring(e).replace(/_/g,""),n){switch(t){case 2:s=`0b${s}`;break;case 8:s=`0o${s}`;break;case 16:s=`0x${s}`;break}let o=BigInt(s);return r==="-"?BigInt(-1)*o:o}let i=parseInt(s,t);return r==="-"?-1*i:i}function ac(s,e,t){let{value:n}=s;if(Hr(n)){let r=n.toString(e);return n<0?"-"+t+r.substr(1):t+r}return le(s)}var Hf={identify:Hr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(s,e,t)=>Jo(s,2,2,t),stringify:s=>ac(s,2,"0b")},Gf={identify:Hr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(s,e,t)=>Jo(s,1,8,t),stringify:s=>ac(s,8,"0")},Jf={identify:Hr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(s,e,t)=>Jo(s,0,10,t),stringify:le},Yf={identify:Hr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(s,e,t)=>Jo(s,2,16,t),stringify:s=>ac(s,16,"0x")};var xs=class s extends Y{constructor(e){super(e),this.tag=s.tag}add(e){let t;M(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new H(e.key,null):t=new H(e,null),_t(this.items,t.key)||this.items.push(t)}get(e,t){let n=_t(this.items,e);return!t&&M(n)?x(n.key)?n.key.value:n.key:n}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let n=_t(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new H(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){let{replacer:r}=n,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof r=="function"&&(o=r.call(t,o,o)),i.items.push(Os(o,null,n));return i}};xs.tag="tag:yaml.org,2002:set";var Gr={collection:"map",identify:s=>s instanceof Set,nodeClass:xs,default:!1,tag:"tag:yaml.org,2002:set",createNode:(s,e,t)=>xs.from(s,e,t),resolve(s,e){if(Le(s)){if(s.hasAllNullValues(!0))return Object.assign(new xs,s);e("Set items must all have null values")}else e("Expected a mapping for this tag");return s}};function lc(s,e){let t=s[0],n=t==="-"||t==="+"?s.substring(1):s,r=o=>e?BigInt(o):Number(o),i=n.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return t==="-"?r(-1)*i:i}function Xf(s){let{value:e}=s,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return le(s);let n="";e<0&&(n="-",e*=t(-1));let r=t(60),i=[e%r];return e<60?i.unshift(0):(e=(e-i[0])/r,i.unshift(e%r),e>=60&&(e=(e-i[0])/r,i.unshift(e))),n+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var Yo={identify:s=>typeof s=="bigint"||Number.isInteger(s),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(s,e,{intAsBigInt:t})=>lc(s,t),stringify:Xf},Xo={identify:s=>typeof s=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:s=>lc(s,!1),stringify:Xf},Ms={identify:s=>s instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(s){let e=s.match(Ms.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,t,n,r,i,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0,c=Date.UTC(t,n-1,r,i||0,o||0,a||0,l),u=e[8];if(u&&u!=="Z"){let h=lc(u,!1);Math.abs(h)<30&&(h*=60),c-=6e4*h}return new Date(c)},stringify:({value:s})=>s.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};var cc=[_e,Ue,Ut,_n,ic,oc,Hf,Gf,Jf,Yf,Vf,Kf,Wf,Vr,Wr,Kr,Gr,Yo,Xo,Ms];var Qf=new Map([["core",Ff],["failsafe",[_e,Ue,Ut]],["json",zf],["yaml11",cc],["yaml-1.1",cc]]),Zf={binary:Vr,bool:qr,float:qo,floatExp:zo,floatNaN:Bo,floatTime:Xo,int:Wo,intHex:Ho,intOct:Ko,intTime:Yo,map:_e,null:_n,omap:Wr,pairs:Kr,seq:Ue,set:Gr,timestamp:Ms},ed={"tag:yaml.org,2002:binary":Vr,"tag:yaml.org,2002:omap":Wr,"tag:yaml.org,2002:pairs":Kr,"tag:yaml.org,2002:set":Gr,"tag:yaml.org,2002:timestamp":Ms};function Qo(s,e){let t=Qf.get(e);if(!t)if(Array.isArray(s))t=[];else{let n=Array.from(Qf.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(s))for(let n of s)t=t.concat(n);else typeof s=="function"&&(t=s(t.slice()));return t.map(n=>{if(typeof n!="string")return n;let r=Zf[n];if(r)return r;let i=Object.keys(Zf).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${i}`)})}var my=(s,e)=>s.key<e.key?-1:s.key>e.key?1:0,Jr=class s{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Qo(e,"compat"):e?Qo(null,e):null,this.merge=!!n,this.name=typeof i=="string"&&i||"core",this.knownTags=r?ed:{},this.tags=Qo(t,this.name),this.toStringOptions=a!=null?a:null,Object.defineProperty(this,De,{value:_e}),Object.defineProperty(this,Te,{value:Ut}),Object.defineProperty(this,pt,{value:Ue}),this.sortMapEntries=typeof o=="function"?o:o===!0?my:null}clone(){let e=Object.create(s.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};function td(s,e){var l;let t=[],n=e.directives===!0;if(e.directives!==!1&&s.directives){let c=s.directives.toString(s);c?(t.push(c),n=!0):s.directives.docStart&&(n=!0)}n&&t.push("---");let r=Lo(s,e),{commentString:i}=r.options;if(s.commentBefore){t.length!==1&&t.unshift("");let c=i(s.commentBefore);t.unshift(Ie(c,""))}let o=!1,a=null;if(s.contents){if(j(s.contents)){if(s.contents.spaceBefore&&n&&t.push(""),s.contents.commentBefore){let h=i(s.contents.commentBefore);t.push(Ie(h,""))}r.forceBlockIndent=!!s.comment,a=s.contents.comment}let c=a?void 0:()=>o=!0,u=bt(s.contents,r,()=>a=null,c);a&&(u+=tt(u,"",i(a))),(u[0]==="|"||u[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${u}`:t.push(u)}else t.push(bt(s.contents,r));if((l=s.directives)!=null&&l.docEnd)if(s.comment){let c=i(s.comment);c.includes(`
`)?(t.push("..."),t.push(Ie(c,""))):t.push(`... ${c}`)}else t.push("...");else{let c=s.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Ie(i(c),"")))}return t.join(`
`)+`
`}var Ft=class s{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,he,{value:Io});let r=null;typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t,t=void 0);let i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:o}=i;n!=null&&n._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new et({version:o}),this.setSchema(o,n),this.contents=e===void 0?null:this.createNode(e,r,n)}clone(){let e=Object.create(s.prototype,{[he]:{value:Io}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=j(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Ds(this.contents)&&this.contents.add(e)}addIn(e,t){Ds(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){let n=Yl(this);e.anchor=!t||n.has(t)?Xl(t||"a",n):t}return new gt(e.anchor)}createNode(e,t,n){let r;if(typeof t=="function")e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){let g=b=>typeof b=="number"||b instanceof String||b instanceof Number,v=t.filter(g).map(String);v.length>0&&(t=t.concat(v)),r=t}else n===void 0&&t&&(n=t,t=void 0);let{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:u}=n!=null?n:{},{onAnchor:h,setAnchors:f,sourceObjects:d}=Pf(this,o||"a"),m={aliasDuplicateObjects:i!=null?i:!0,keepUndefined:l!=null?l:!1,onAnchor:h,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:d},p=yt(e,u,m);return a&&_(p)&&(p.flow=!0),f(),p}createPair(e,t,n={}){let r=this.createNode(e,null,n),i=this.createNode(t,null,n);return new H(r,i)}delete(e){return Ds(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Rs(e)?this.contents==null?!1:(this.contents=null,!0):Ds(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return _(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Rs(e)?!t&&x(this.contents)?this.contents.value:this.contents:_(this.contents)?this.contents.getIn(e,t):void 0}has(e){return _(this.contents)?this.contents.has(e):!1}hasIn(e){return Rs(e)?this.contents!==void 0:_(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=Ur(this.schema,[e],t):Ds(this.contents)&&this.contents.set(e,t)}setIn(e,t){Rs(e)?this.contents=t:this.contents==null?this.contents=Ur(this.schema,Array.from(e),t):Ds(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new et({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new et({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(n)this.schema=new Jr(Object.assign(n,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},l=Z(this.contents,t!=null?t:"",a);if(typeof i=="function")for(let{count:c,res:u}of a.anchors.values())i(u,c);return typeof o=="function"?$t(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return td(this,e)}};function Ds(s){if(_(s))return!0;throw new Error("Expected a YAML collection as document contents")}var Yr=class extends Error{constructor(e,t,n,r){super(),this.name=e,this.code=n,this.message=r,this.pos=t}},Fe=class extends Yr{constructor(e,t,n){super("YAMLParseError",e,t,n)}},Xr=class extends Yr{constructor(e,t,n){super("YAMLWarning",e,t,n)}},uc=(s,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));let{line:n,col:r}=t.linePos[0];t.message+=` at line ${n}, column ${r}`;let i=r-1,o=s.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){let a=Math.min(i-39,o.length-79);o="\u2026"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(o.substring(0,i))){let a=s.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,l=t.linePos[1];l&&l.line===n&&l.col>r&&(a=Math.max(1,Math.min(l.col-r,80-i)));let c=" ".repeat(i)+"^".repeat(a);t.message+=`:

${o}
${c}
`}};function nt(s,{flow:e,indicator:t,next:n,offset:r,onError:i,startOnNewline:o}){let a=!1,l=o,c=o,u="",h="",f=!1,d=!1,m=!1,p=null,g=null,v=null,b=null,C=null;for(let S of s)switch(m&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&i(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),S.type){case"space":!e&&l&&t!=="doc-start"&&S.source[0]==="	"&&i(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let K=S.source.substring(1)||" ";u?u+=h+K:u=K,h="",l=!1;break}case"newline":l?u?u+=S.source:a=!0:h+=S.source,l=!0,f=!0,(p||g)&&(d=!0),c=!0;break;case"anchor":p&&i(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&i(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),p=S,C===null&&(C=S.offset),l=!1,c=!1,m=!0;break;case"tag":{g&&i(S,"MULTIPLE_TAGS","A node can have at most one tag"),g=S,C===null&&(C=S.offset),l=!1,c=!1,m=!0;break}case t:(p||g)&&i(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),b&&i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${e!=null?e:"collection"}`),b=S,l=!1,c=!1;break;case"comma":if(e){v&&i(S,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),v=S,l=!1,c=!1;break}default:i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),l=!1,c=!1}let T=s[s.length-1],R=T?T.offset+T.source.length:r;return m&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&i(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:v,found:b,spaceBefore:a,comment:u,hasNewline:f,hasNewlineAfterProp:d,anchor:p,tag:g,end:R,start:C!=null?C:R}}function Bt(s){if(!s)return null;switch(s.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(s.source.includes(`
`))return!0;if(s.end){for(let e of s.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of s.items){for(let t of e.start)if(t.type==="newline")return!0;if(e.sep){for(let t of e.sep)if(t.type==="newline")return!0}if(Bt(e.key)||Bt(e.value))return!0}return!1;default:return!0}}function Qr(s,e,t){if((e==null?void 0:e.type)==="flow-collection"){let n=e.end[0];n.indent===s&&(n.source==="]"||n.source==="}")&&Bt(e)&&t(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Zo(s,e,t){let{uniqueKeys:n}=s.options;if(n===!1)return!1;let r=typeof n=="function"?n:(i,o)=>i===o||x(i)&&x(o)&&i.value===o.value&&!(i.value==="<<"&&s.schema.merge);return e.some(i=>r(i.key,t))}var nd="All mapping items must start at the same column";function sd({composeNode:s,composeEmptyNode:e},t,n,r,i){var u,h;let o=(u=i==null?void 0:i.nodeClass)!=null?u:Y,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(let f of n.items){let{start:d,key:m,sep:p,value:g}=f,v=nt(d,{indicator:"explicit-key-ind",next:m!=null?m:p==null?void 0:p[0],offset:l,onError:r,startOnNewline:!0}),b=!v.found;if(b){if(m&&(m.type==="block-seq"?r(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==n.indent&&r(l,"BAD_INDENT",nd)),!v.anchor&&!v.tag&&!p){c=v.end,v.comment&&(a.comment?a.comment+=`
`+v.comment:a.comment=v.comment);continue}(v.hasNewlineAfterProp||Bt(m))&&r(m!=null?m:d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((h=v.found)==null?void 0:h.indent)!==n.indent&&r(l,"BAD_INDENT",nd);let C=v.end,T=m?s(t,m,v,r):e(t,C,d,null,v,r);t.schema.compat&&Qr(n.indent,m,r),Zo(t,a.items,T)&&r(C,"DUPLICATE_KEY","Map keys must be unique");let R=nt(p!=null?p:[],{indicator:"map-value-ind",next:g,offset:T.range[2],onError:r,startOnNewline:!m||m.type==="block-scalar"});if(l=R.end,R.found){b&&((g==null?void 0:g.type)==="block-map"&&!R.hasNewline&&r(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&v.start<R.found.offset-1024&&r(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let S=g?s(t,g,R,r):e(t,l,p,null,R,r);t.schema.compat&&Qr(n.indent,g,r),l=S.range[2];let K=new H(T,S);t.options.keepSourceTokens&&(K.srcToken=f),a.items.push(K)}else{b&&r(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),R.comment&&(T.comment?T.comment+=`
`+R.comment:T.comment=R.comment);let S=new H(T);t.options.keepSourceTokens&&(S.srcToken=f),a.items.push(S)}}return c&&c<l&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c!=null?c:l],a}function rd({composeNode:s,composeEmptyNode:e},t,n,r,i){var u;let o=(u=i==null?void 0:i.nodeClass)!=null?u:ae,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let l=n.offset,c=null;for(let{start:h,value:f}of n.items){let d=nt(h,{indicator:"seq-item-ind",next:f,offset:l,onError:r,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||f)f&&f.type==="block-seq"?r(d.end,"BAD_INDENT","All sequence items must start at the same column"):r(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(a.comment=d.comment);continue}let m=f?s(t,f,d,r):e(t,d.end,h,null,d,r);t.schema.compat&&Qr(n.indent,f,r),l=m.range[2],a.items.push(m)}return a.range=[n.offset,l,c!=null?c:l],a}function st(s,e,t,n){let r="";if(s){let i=!1,o="";for(let a of s){let{source:l,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{t&&!i&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=l.substring(1)||" ";r?r+=o+u:r=u,o="";break}case"newline":r&&(o+=l),i=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=l.length}}return{comment:r,offset:e}}var hc="Block collections are not allowed within flow collections",fc=s=>s&&(s.type==="block-map"||s.type==="block-seq");function id({composeNode:s,composeEmptyNode:e},t,n,r,i){var g,v;let o=n.start.source==="{",a=o?"flow map":"flow sequence",l=(g=i==null?void 0:i.nodeClass)!=null?g:o?Y:ae,c=new l(t.schema);c.flow=!0;let u=t.atRoot;u&&(t.atRoot=!1);let h=n.offset+n.start.source.length;for(let b=0;b<n.items.length;++b){let C=n.items[b],{start:T,key:R,sep:S,value:K}=C,D=nt(T,{flow:a,indicator:"explicit-key-ind",next:R!=null?R:S==null?void 0:S[0],offset:h,onError:r,startOnNewline:!1});if(!D.found){if(!D.anchor&&!D.tag&&!S&&!K){b===0&&D.comma?r(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):b<n.items.length-1&&r(D.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),D.comment&&(c.comment?c.comment+=`
`+D.comment:c.comment=D.comment),h=D.end;continue}!o&&t.options.strict&&Bt(R)&&r(R,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)D.comma&&r(D.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(D.comma||r(D.start,"MISSING_CHAR",`Missing , between ${a} items`),D.comment){let W="";e:for(let q of T)switch(q.type){case"comma":case"space":break;case"comment":W=q.source.substring(1);break e;default:break e}if(W){let q=c.items[c.items.length-1];M(q)&&(q=(v=q.value)!=null?v:q.key),q.comment?q.comment+=`
`+W:q.comment=W,D.comment=D.comment.substring(W.length+1)}}if(!o&&!S&&!D.found){let W=K?s(t,K,D,r):e(t,D.end,S,null,D,r);c.items.push(W),h=W.range[2],fc(K)&&r(W.range,"BLOCK_IN_FLOW",hc)}else{let W=D.end,q=R?s(t,R,D,r):e(t,W,T,null,D,r);fc(R)&&r(q.range,"BLOCK_IN_FLOW",hc);let se=nt(S!=null?S:[],{flow:a,indicator:"map-value-ind",next:K,offset:q.range[2],onError:r,startOnNewline:!1});if(se.found){if(!o&&!D.found&&t.options.strict){if(S)for(let ee of S){if(ee===se.found)break;if(ee.type==="newline"){r(ee,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}D.start<se.found.offset-1024&&r(se.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else K&&("source"in K&&K.source&&K.source[0]===":"?r(K,"MISSING_CHAR",`Missing space after : in ${a}`):r(se.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let zt=K?s(t,K,se,r):se.found?e(t,se.end,S,null,se,r):null;zt?fc(K)&&r(zt.range,"BLOCK_IN_FLOW",hc):se.comment&&(q.comment?q.comment+=`
`+se.comment:q.comment=se.comment);let Bn=new H(q,zt);if(t.options.keepSourceTokens&&(Bn.srcToken=C),o){let ee=c;Zo(t,ee.items,q)&&r(W,"DUPLICATE_KEY","Map keys must be unique"),ee.items.push(Bn)}else{let ee=new Y(t.schema);ee.flow=!0,ee.items.push(Bn),c.items.push(ee)}h=zt?zt.range[2]:se.end}}let f=o?"}":"]",[d,...m]=n.end,p=h;if(d&&d.source===f)p=d.offset+d.source.length;else{let b=a[0].toUpperCase()+a.substring(1),C=u?`${b} must end with a ${f}`:`${b} in block collection must be sufficiently indented and end with a ${f}`;r(h,u?"MISSING_CHAR":"BAD_INDENT",C),d&&d.source.length!==1&&m.unshift(d)}if(m.length>0){let b=st(m,p,t.options.strict,r);b.comment&&(c.comment?c.comment+=`
`+b.comment:c.comment=b.comment),c.range=[n.offset,p,b.offset]}else c.range=[n.offset,p,p];return c}function dc(s,e,t,n,r,i){let o=t.type==="block-map"?sd(s,e,t,n,i):t.type==="block-seq"?rd(s,e,t,n,i):id(s,e,t,n,i),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function od(s,e,t,n,r){var h,f;let i=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null,o=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!n||!i||i==="!"||i===Y.tagName&&o==="map"||i===ae.tagName&&o==="seq"||!o)return dc(s,e,t,r,i);let a=e.schema.tags.find(d=>d.tag===i&&d.collection===o);if(!a){let d=e.schema.knownTags[i];if(d&&d.collection===o)e.schema.tags.push(Object.assign({},d,{default:!1})),a=d;else return d!=null&&d.collection?r(n,"BAD_COLLECTION_TYPE",`${d.tag} used for ${o} collection, but expects ${d.collection}`,!0):r(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),dc(s,e,t,r,i)}let l=dc(s,e,t,r,i,a),c=(f=(h=a.resolve)==null?void 0:h.call(a,l,d=>r(n,"TAG_RESOLVE_FAILED",d),e.options))!=null?f:l,u=j(c)?c:new E(c);return u.range=l.range,u.tag=i,a!=null&&a.format&&(u.format=a.format),u}function pc(s,e,t){let n=s.offset,r=gy(s,e,t);if(!r)return{value:"",type:null,comment:"",range:[n,n,n]};let i=r.mode===">"?E.BLOCK_FOLDED:E.BLOCK_LITERAL,o=s.source?yy(s.source):[],a=o.length;for(let p=o.length-1;p>=0;--p){let g=o[p][1];if(g===""||g==="\r")a=p;else break}if(a===0){let p=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",g=n+r.length;return s.source&&(g+=s.source.length),{value:p,type:i,comment:r.comment,range:[n,g,g]}}let l=s.indent+r.indent,c=s.offset+r.length,u=0;for(let p=0;p<a;++p){let[g,v]=o[p];if(v===""||v==="\r")r.indent===0&&g.length>l&&(l=g.length);else{if(g.length<l){let b="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(c+g.length,"MISSING_CHAR",b)}r.indent===0&&(l=g.length),u=p;break}c+=g.length+v.length+1}for(let p=o.length-1;p>=a;--p)o[p][0].length>l&&(a=p+1);let h="",f="",d=!1;for(let p=0;p<u;++p)h+=o[p][0].slice(l)+`
`;for(let p=u;p<a;++p){let[g,v]=o[p];c+=g.length+v.length+1;let b=v[v.length-1]==="\r";if(b&&(v=v.slice(0,-1)),v&&g.length<l){let T=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;t(c-v.length-(b?2:1),"BAD_INDENT",T),g=""}i===E.BLOCK_LITERAL?(h+=f+g.slice(l)+v,f=`
`):g.length>l||v[0]==="	"?(f===" "?f=`
`:!d&&f===`
`&&(f=`

`),h+=f+g.slice(l)+v,f=`
`,d=!0):v===""?f===`
`?h+=`
`:f=`
`:(h+=f+v,f=" ",d=!1)}switch(r.chomp){case"-":break;case"+":for(let p=a;p<o.length;++p)h+=`
`+o[p][0].slice(l);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`}let m=n+r.length+s.source.length;return{value:h,type:i,comment:r.comment,range:[n,m,m]}}function gy({offset:s,props:e},t,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:r}=e[0],i=r[0],o=0,a="",l=-1;for(let f=1;f<r.length;++f){let d=r[f];if(!a&&(d==="-"||d==="+"))a=d;else{let m=Number(d);!o&&m?o=m:l===-1&&(l=s+f)}}l!==-1&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,u="",h=r.length;for(let f=1;f<e.length;++f){let d=e[f];switch(d.type){case"space":c=!0;case"newline":h+=d.source.length;break;case"comment":t&&!c&&n(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=d.source.length,u=d.source.substring(1);break;case"error":n(d,"UNEXPECTED_TOKEN",d.message),h+=d.source.length;break;default:{let m=`Unexpected token in block scalar header: ${d.type}`;n(d,"UNEXPECTED_TOKEN",m);let p=d.source;p&&typeof p=="string"&&(h+=p.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:h}}function yy(s){let e=s.split(/\n( *)/),t=e[0],n=t.match(/^( *)/),i=[n!=null&&n[1]?[n[1],t.slice(n[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)i.push([e[o],e[o+1]]);return i}function mc(s,e,t){let{offset:n,type:r,source:i,end:o}=s,a,l,c=(f,d,m)=>t(n+f,d,m);switch(r){case"scalar":a=E.PLAIN,l=by(i,c);break;case"single-quoted-scalar":a=E.QUOTE_SINGLE,l=vy(i,c);break;case"double-quoted-scalar":a=E.QUOTE_DOUBLE,l=wy(i,c);break;default:return t(s,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[n,n+i.length,n+i.length]}}let u=n+i.length,h=st(o,u,e,t);return{value:l,type:a,comment:h.comment,range:[n,u,h.offset]}}function by(s,e){let t="";switch(s[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${s[0]}`;break}case"@":case"`":{t=`reserved character ${s[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),ad(s)}function vy(s,e){return(s[s.length-1]!=="'"||s.length===1)&&e(s.length,"MISSING_CHAR","Missing closing 'quote"),ad(s.slice(1,-1)).replace(/''/g,"'")}function ad(s){var l;let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch(c){e=new RegExp("(.*?)[ \\t]*\\r?\\n","sy"),t=new RegExp("[ \\t]*(.*?)[ \\t]*\\r?\\n","sy")}let n=e.exec(s);if(!n)return s;let r=n[1],i=" ",o=e.lastIndex;for(t.lastIndex=o;n=t.exec(s);)n[1]===""?i===`
`?r+=i:i=`
`:(r+=i+n[1],i=" "),o=t.lastIndex;let a=new RegExp("[ \\t]*(.*)","sy");return a.lastIndex=o,n=a.exec(s),r+i+((l=n==null?void 0:n[1])!=null?l:"")}function wy(s,e){let t="";for(let n=1;n<s.length-1;++n){let r=s[n];if(!(r==="\r"&&s[n+1]===`
`))if(r===`
`){let{fold:i,offset:o}=Sy(s,n);t+=i,n=o}else if(r==="\\"){let i=s[++n],o=ky[i];if(o)t+=o;else if(i===`
`)for(i=s[n+1];i===" "||i==="	";)i=s[++n+1];else if(i==="\r"&&s[n+1]===`
`)for(i=s[++n+1];i===" "||i==="	";)i=s[++n+1];else if(i==="x"||i==="u"||i==="U"){let a={x:2,u:4,U:8}[i];t+=Ey(s,n+1,a,e),n+=a}else{let a=s.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(r===" "||r==="	"){let i=n,o=s[n+1];for(;o===" "||o==="	";)o=s[++n+1];o!==`
`&&!(o==="\r"&&s[n+2]===`
`)&&(t+=n>i?s.slice(i,n+1):r)}else t+=r}return(s[s.length-1]!=='"'||s.length===1)&&e(s.length,"MISSING_CHAR",'Missing closing "quote'),t}function Sy(s,e){let t="",n=s[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&s[e+2]!==`
`);)n===`
`&&(t+=`
`),e+=1,n=s[e+1];return t||(t=" "),{fold:t,offset:e}}var ky={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Ey(s,e,t,n){let r=s.substr(e,t),o=r.length===t&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){let a=s.substr(e-2,t+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function gc(s,e,t,n){let{value:r,type:i,comment:o,range:a}=e.type==="block-scalar"?pc(e,s.options.strict,n):mc(e,s.options.strict,n),l=t?s.directives.tagName(t.source,h=>n(t,"TAG_RESOLVE_FAILED",h)):null,c=t&&l?Cy(s.schema,r,l,t,n):e.type==="scalar"?Ty(s,r,e,n):s.schema[Te],u;try{let h=c.resolve(r,f=>n(t!=null?t:e,"TAG_RESOLVE_FAILED",f),s.options);u=x(h)?h:new E(h)}catch(h){let f=h instanceof Error?h.message:String(h);n(t!=null?t:e,"TAG_RESOLVE_FAILED",f),u=new E(r)}return u.range=a,u.source=r,i&&(u.type=i),l&&(u.tag=l),c.format&&(u.format=c.format),o&&(u.comment=o),u}function Cy(s,e,t,n,r){var a;if(t==="!")return s[Te];let i=[];for(let l of s.tags)if(!l.collection&&l.tag===t)if(l.default&&l.test)i.push(l);else return l;for(let l of i)if((a=l.test)!=null&&a.test(e))return l;let o=s.knownTags[t];return o&&!o.collection?(s.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),s[Te])}function Ty({directives:s,schema:e},t,n,r){var o;let i=e.tags.find(a=>{var l;return a.default&&((l=a.test)==null?void 0:l.test(t))})||e[Te];if(e.compat){let a=(o=e.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(t))}))!=null?o:e[Te];if(i.tag!==a.tag){let l=s.tagString(i.tag),c=s.tagString(a.tag),u=`Value may be parsed as either ${l} or ${c}`;r(n,"TAG_RESOLVE_FAILED",u,!0)}}return i}function ld(s,e,t){if(e){t===null&&(t=e.length);for(let n=t-1;n>=0;--n){let r=e[n];switch(r.type){case"space":case"comment":case"newline":s-=r.source.length;continue}for(r=e[++n];(r==null?void 0:r.type)==="space";)s+=r.source.length,r=e[++n];break}}return s}var Iy={composeNode:yc,composeEmptyNode:ea};function yc(s,e,t,n){let{spaceBefore:r,comment:i,anchor:o,tag:a}=t,l,c=!0;switch(e.type){case"alias":l=Ry(s,e,n),(o||a)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=gc(s,e,a,n),o&&(l.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=od(Iy,s,e,a,n),o&&(l.anchor=o.source.substring(1));break;default:{let u=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;n(e,"UNEXPECTED_TOKEN",u),l=ea(s,e.offset,void 0,null,t,n),c=!1}}return o&&l.anchor===""&&n(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),i&&(e.type==="scalar"&&e.source===""?l.comment=i:l.commentBefore=i),s.options.keepSourceTokens&&c&&(l.srcToken=e),l}function ea(s,e,t,n,{spaceBefore:r,comment:i,anchor:o,tag:a,end:l},c){let u={type:"scalar",offset:ld(e,t,n),indent:-1,source:""},h=gc(s,u,a,c);return o&&(h.anchor=o.source.substring(1),h.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(h.spaceBefore=!0),i&&(h.comment=i,h.range[2]=l),h}function Ry({options:s},{offset:e,source:t,end:n},r){let i=new gt(t.substring(1));i.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&r(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+t.length,a=st(n,o,s.strict,r);return i.range=[e,o,a.offset],a.comment&&(i.comment=a.comment),i}function cd(s,e,{offset:t,start:n,value:r,end:i},o){let a=Object.assign({_directives:e},s),l=new Ft(void 0,a),c={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=nt(n,{indicator:"doc-start",next:r!=null?r:i==null?void 0:i[0],offset:t,onError:o,startOnNewline:!0});u.found&&(l.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!u.hasNewline&&o(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?yc(c,r,u,o):ea(c,u.end,n,null,u,o);let h=l.contents.range[2],f=st(i,h,!1,o);return f.comment&&(l.comment=f.comment),l.range=[t,h,f.offset],l}function Zr(s){if(typeof s=="number")return[s,s+1];if(Array.isArray(s))return s.length===2?s:[s[0],s[1]];let{offset:e,source:t}=s;return[e,e+(typeof t=="string"?t.length:1)]}function ud(s){var r;let e="",t=!1,n=!1;for(let i=0;i<s.length;++i){let o=s[i];switch(o[0]){case"#":e+=(e===""?"":n?`

`:`
`)+(o.substring(1)||" "),t=!0,n=!1;break;case"%":((r=s[i+1])==null?void 0:r[0])!=="#"&&(i+=1),t=!1;break;default:t||(n=!0),t=!1}}return{comment:e,afterEmptyLine:n}}var ei=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,n,r,i)=>{let o=Zr(t);i?this.warnings.push(new Xr(o,n,r)):this.errors.push(new Fe(o,n,r))},this.directives=new et({version:e.version||"1.2"}),this.options=e}decorate(e,t){let{comment:n,afterEmptyLine:r}=ud(this.prelude);if(n){let i=e.contents;if(t)e.comment=e.comment?`${e.comment}
${n}`:n;else if(r||e.directives.docStart||!i)e.commentBefore=n;else if(_(i)&&!i.flow&&i.items.length>0){let o=i.items[0];M(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${n}
${a}`:n}else{let o=i.commentBefore;i.commentBefore=o?`${n}
${o}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:ud(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(let r of e)yield*y(this.next(r));yield*y(this.end(t,n))}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(t,n,r)=>{let i=Zr(e);i[0]+=t,this.onError(i,"BAD_DIRECTIVE",n,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=cd(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Fe(Zr(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new Fe(Zr(e),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let t=st(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Fe(Zr(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let n=Object.assign({_directives:this.directives},this.options),r=new Ft(void 0,n);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}};var bc=Symbol("break visit"),Ay=Symbol("skip children"),hd=Symbol("remove item");function Un(s,e){"type"in s&&s.type==="document"&&(s={start:s.start,value:s.value}),fd(Object.freeze([]),s,e)}Un.BREAK=bc;Un.SKIP=Ay;Un.REMOVE=hd;Un.itemAtPath=(s,e)=>{let t=s;for(let[n,r]of e){let i=t==null?void 0:t[n];if(i&&"items"in i)t=i.items[r];else return}return t};Un.parentCollection=(s,e)=>{let t=Un.itemAtPath(s,e.slice(0,-1)),n=e[e.length-1][0],r=t==null?void 0:t[n];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function fd(s,e,t){let n=t(e,s);if(typeof n=="symbol")return n;for(let r of["key","value"]){let i=e[r];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){let a=fd(Object.freeze(s.concat([[r,o]])),i.items[o],t);if(typeof a=="number")o=a-1;else{if(a===bc)return bc;a===hd&&(i.items.splice(o,1),o-=1)}}typeof n=="function"&&r==="key"&&(n=n(e,s))}}return typeof n=="function"?n(e,s):n}var vc="\uFEFF",wc="",Sc="",ta="";function dd(s){switch(s){case vc:return"byte-order-mark";case wc:return"doc-mode";case Sc:return"flow-error-end";case ta:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(s[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Re(s){switch(s){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var pd="0123456789ABCDEFabcdef".split(""),Ny="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),kc=",[]{}".split(""),xy=` ,[]{}
\r	`.split(""),Ec=s=>!s||xy.includes(s),ti=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){var r;e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=(r=this.next)!=null?r:"stream";for(;n&&(t||this.hasChars(1));)n=yield*y(this.parseNext(n))}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;t===" ";)t=this.buffer[++n+e];if(t==="\r"){let r=this.buffer[n+e+1];if(r===`
`||!r&&!this.atEnd)return e+n+1}return t===`
`||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if(t==="-"||t==="."){let n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&Re(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*y(this.parseStream());case"line-start":return yield*y(this.parseLineStart());case"block-start":return yield*y(this.parseBlockStart());case"doc":return yield*y(this.parseDocument());case"flow":return yield*y(this.parseFlowCollection());case"quoted-scalar":return yield*y(this.parseQuotedScalar());case"block-scalar":return yield*y(this.parseBlockScalar());case"plain-scalar":return yield*y(this.parsePlainScalar())}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===vc&&(yield*y(this.pushCount(1)),e=e.substring(1)),e[0]==="%"){let t=e.length,n=e.indexOf("#");if(n!==-1){let i=e[n-1];(i===" "||i==="	")&&(t=n-1)}for(;;){let i=e[t-1];if(i===" "||i==="	")t-=1;else break}let r=(yield*y(this.pushCount(t)))+(yield*y(this.pushSpaces(!0)));return yield*y(this.pushCount(e.length-r)),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*y(this.pushSpaces(!0));return yield*y(this.pushCount(e.length-t)),yield*y(this.pushNewline()),"stream"}return yield wc,yield*y(this.parseLineStart())}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let t=this.peek(3);if(t==="---"&&Re(this.charAt(3)))return yield*y(this.pushCount(3)),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&Re(this.charAt(3)))return yield*y(this.pushCount(3)),"stream"}return this.indentValue=yield*y(this.pushSpaces(!1)),this.indentNext>this.indentValue&&!Re(this.charAt(1))&&(this.indentNext=this.indentValue),yield*y(this.parseBlockStart())}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Re(t)){let n=(yield*y(this.pushCount(1)))+(yield*y(this.pushSpaces(!0)));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*y(this.parseBlockStart())}return"doc"}*parseDocument(){yield*y(this.pushSpaces(!0));let e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*y(this.pushIndicators());switch(e[t]){case"#":yield*y(this.pushCount(e.length-t));case void 0:return yield*y(this.pushNewline()),yield*y(this.parseLineStart());case"{":case"[":return yield*y(this.pushCount(1)),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*y(this.pushCount(1)),"doc";case"*":return yield*y(this.pushUntil(Ec)),"doc";case'"':case"'":return yield*y(this.parseQuotedScalar());case"|":case">":return t+=yield*y(this.parseBlockScalarHeader()),t+=yield*y(this.pushSpaces(!0)),yield*y(this.pushCount(e.length-t)),yield*y(this.pushNewline()),yield*y(this.parseBlockScalar());default:return yield*y(this.parsePlainScalar())}}*parseFlowCollection(){let e,t,n=-1;do e=yield*y(this.pushNewline()),e>0?(t=yield*y(this.pushSpaces(!1)),this.indentValue=n=t):t=0,t+=yield*y(this.pushSpaces(!0));while(e+t>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&r[0]!=="#"||n===0&&(r.startsWith("---")||r.startsWith("..."))&&Re(r[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Sc,yield*y(this.parseLineStart());let i=0;for(;r[i]===",";)i+=yield*y(this.pushCount(1)),i+=yield*y(this.pushSpaces(!0)),this.flowKey=!1;switch(i+=yield*y(this.pushIndicators()),r[i]){case void 0:return"flow";case"#":return yield*y(this.pushCount(r.length-i)),"flow";case"{":case"[":return yield*y(this.pushCount(1)),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*y(this.pushCount(1)),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*y(this.pushUntil(Ec)),"flow";case'"':case"'":return this.flowKey=!0,yield*y(this.parseQuotedScalar());case":":{let o=this.charAt(1);if(this.flowKey||Re(o)||o===",")return this.flowKey=!1,yield*y(this.pushCount(1)),yield*y(this.pushSpaces(!0)),"flow"}default:return this.flowKey=!1,yield*y(this.parsePlainScalar())}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let i=0;for(;this.buffer[t-1-i]==="\\";)i+=1;if(i%2===0)break;t=this.buffer.indexOf('"',t+1)}let n=this.buffer.substring(0,t),r=n.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let i=this.continueScalar(r+1);if(i===-1)break;r=n.indexOf(`
`,i)}r!==-1&&(t=r-(n[r-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*y(this.pushToIndex(t+1,!1)),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*y(this.pushUntil(t=>Re(t)||t==="#"))}*parseBlockScalar(){let e=this.pos-1,t=0,n;e:for(let r=this.pos;n=this.buffer[r];++r)switch(n){case" ":t+=1;break;case`
`:e=r,t=0;break;case"\r":{let i=this.buffer[r+1];if(!i&&!this.atEnd)return this.setNext("block-scalar");if(i===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{let r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,i=this.buffer[r];i==="\r"&&(i=this.buffer[--r]);let o=r;for(;i===" "||i==="	";)i=this.buffer[--r];if(i===`
`&&r>=this.pos&&r+1+t>o)e=r;else break}while(!0);return yield ta,yield*y(this.pushToIndex(e+1,!0)),yield*y(this.parseLineStart())}*parsePlainScalar(){let e=this.flowLevel>0,t=this.pos-1,n=this.pos-1,r;for(;r=this.buffer[++n];)if(r===":"){let i=this.buffer[n+1];if(Re(i)||e&&i===",")break;t=n}else if(Re(r)){let i=this.buffer[n+1];if(r==="\r"&&(i===`
`?(n+=1,r=`
`,i=this.buffer[n+1]):t=n),i==="#"||e&&kc.includes(i))break;if(r===`
`){let o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(e&&kc.includes(r))break;t=n}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield ta,yield*y(this.pushToIndex(t+1,!0)),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*y(this.pushTag()))+(yield*y(this.pushSpaces(!0)))+(yield*y(this.pushIndicators()));case"&":return(yield*y(this.pushUntil(Ec)))+(yield*y(this.pushSpaces(!0)))+(yield*y(this.pushIndicators()));case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(Re(t)||e&&kc.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*y(this.pushCount(1)))+(yield*y(this.pushSpaces(!0)))+(yield*y(this.pushIndicators()))}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!Re(t)&&t!==">";)t=this.buffer[++e];return yield*y(this.pushToIndex(t===">"?e+1:e,!1))}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Ny.includes(t))t=this.buffer[++e];else if(t==="%"&&pd.includes(this.buffer[e+1])&&pd.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*y(this.pushToIndex(e,!1))}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*y(this.pushCount(1)):e==="\r"&&this.charAt(1)===`
`?yield*y(this.pushCount(2)):0}*pushSpaces(e){let t=this.pos-1,n;do n=this.buffer[++t];while(n===" "||e&&n==="	");let r=t-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=t),r}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*y(this.pushToIndex(t,!1))}};var ni=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){let i=t+n>>1;this.lineStarts[i]<e?t=i+1:n=i}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};let r=this.lineStarts[t-1];return{line:t,col:e-r+1}}}};function Be(s,e){for(let t=0;t<s.length;++t)if(s[t].type===e)return!0;return!1}function md(s){for(let e=0;e<s.length;++e)switch(s[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function yd(s){switch(s==null?void 0:s.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function na(s){var e;switch(s.type){case"document":return s.start;case"block-map":{let t=s.items[s.items.length-1];return(e=t.sep)!=null?e:t.start}case"block-seq":return s.items[s.items.length-1].start;default:return[]}}function Ps(s){var t;if(s.length===0)return[];let e=s.length;e:for(;--e>=0;)switch(s[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=s[++e])==null?void 0:t.type)==="space";);return s.splice(e,s.length)}function gd(s){if(s.start.type==="flow-seq-start")for(let e of s.items)e.sep&&!e.value&&!Be(e.start,"explicit-key-ind")&&!Be(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,yd(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var si=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new ti,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(e,t))yield*y(this.next(n));t||(yield*y(this.end()))}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*y(this.step()),this.offset+=e.length;return}let t=dd(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*y(this.step()),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let n=`Not a YAML token: ${e}`;yield*y(this.pop({type:"error",offset:this.offset,message:n,source:e})),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*y(this.pop())}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*y(this.pop());this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*y(this.stream());switch(e.type){case"document":return yield*y(this.document(e));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*y(this.scalar(e));case"block-scalar":return yield*y(this.blockScalar(e));case"block-map":return yield*y(this.blockMap(e));case"block-seq":return yield*y(this.blockSequence(e));case"flow-collection":return yield*y(this.flowCollection(e));case"doc-end":return yield*y(this.documentEnd(e))}yield*y(this.pop())}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=e!=null?e:this.stack.pop();if(t)if(this.stack.length===0)yield t;else{let n=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in n?n.indent:0:t.type==="flow-collection"&&n.type==="document"&&(t.indent=0),t.type==="flow-collection"&&gd(t),n.type){case"document":n.value=t;break;case"block-scalar":n.props.push(t);break;case"block-map":{let r=n.items[n.items.length-1];if(r.value){n.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!Be(r.start,"explicit-key-ind");return}break}case"block-seq":{let r=n.items[n.items.length-1];r.value?n.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{let r=n.items[n.items.length-1];!r||r.value?n.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*y(this.pop()),yield*y(this.pop(t))}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){let r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&md(r.start)===-1&&(t.indent===0||r.start.every(i=>i.type!=="comment"||i.indent<t.indent))&&(n.type==="document"?n.end=r.start:n.items.push({start:r.start}),t.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*y(this.lineEnd(e));switch(this.type){case"doc-start":{md(e.start)!==-1?(yield*y(this.pop()),yield*y(this.step())):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let t=na(this.peek(2)),n=Ps(t),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*y(this.lineEnd(e))}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*y(this.pop());break;default:yield*y(this.pop()),yield*y(this.step())}}*blockMap(e){var n;let t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){let r="end"in t.value?t.value.end:void 0,i=Array.isArray(r)?r[r.length-1]:void 0;(i==null?void 0:i.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){let r=e.items[e.items.length-2],i=(n=r==null?void 0:r.value)==null?void 0:n.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let r=!this.onKeyLine&&this.indent===e.indent&&t.sep&&this.type!=="seq-item-ind",i=[];if(r&&t.sep&&!t.value){let o=[];for(let a=0;a<t.sep.length;++a){let l=t.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(i=t.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||t.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!Be(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):r||t.value?(i.push(this.sourceToken),e.items.push({start:i})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Be(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Be(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(yd(t.key)&&!Be(t.sep,"newline")){let o=Ps(t.start),a=t.key,l=t.sep;l.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else i.length>0?t.sep=t.sep.concat(i,this.sourceToken):t.sep.push(this.sourceToken);else if(Be(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{let o=Ps(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||r?e.items.push({start:i,key:null,sep:[this.sourceToken]}):Be(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);r||t.value?(e.items.push({start:i,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){r&&o.type!=="block-seq"&&Be(t.start,"explicit-key-ind")&&e.items.push({start:i}),this.stack.push(o);return}}}}yield*y(this.pop()),yield*y(this.step())}*blockSequence(e){var n;let t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){let r="end"in t.value?t.value.end:void 0,i=Array.isArray(r)?r[r.length-1]:void 0;(i==null?void 0:i.type)==="comment"?r==null||r.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){let r=e.items[e.items.length-2],i=(n=r==null?void 0:r.value)==null?void 0:n.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||Be(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){let r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*y(this.pop()),yield*y(this.step())}*flowCollection(e){let t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*y(this.pop()),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*y(this.pop()),yield*y(this.step()))}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===e.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*y(this.pop()),yield*y(this.step());else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let r=na(n),i=Ps(r);gd(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*y(this.lineEnd(e))}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=na(e),n=Ps(t);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let t=na(e),n=Ps(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*y(this.pop())))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*y(this.pop()),yield*y(this.step());break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*y(this.pop()))}}};function My(s){let e=s.prettyErrors!==!1;return{lineCounter:s.lineCounter||e&&new ni||null,prettyErrors:e}}function bd(s,e={}){let{lineCounter:t,prettyErrors:n}=My(e),r=new si(t==null?void 0:t.addNewLine),i=new ei(e),o=null;for(let a of i.compose(r.parse(s),!0,s.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Fe(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&t&&(o.errors.forEach(uc(s,t)),o.warnings.forEach(uc(s,t))),o}function ri(s,e,t){let n;typeof e=="function"?n=e:t===void 0&&e&&typeof e=="object"&&(t=e);let r=bd(s,t);if(!r)return null;if(r.warnings.forEach(i=>$o(r.options.logLevel,i)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:n},t))}function Py(s,e){if(s&1&&(oe(0,"div",0)(1,"div",1)(2,"figure",0),ue(3,"img",2),ne(),oe(4,"h1"),xe(5),ne(),oe(6,"div",3)(7,"span",4),xe(8),ne(),oe(9,"span",5),xe(10),ne()(),ue(11,"markdown",6),ne()()),s&2){let t=Hn();ie(3),Ne("src",t.img,ba)("alt",t.title),ie(2),Kt(t.title),ie(3),Kt(t.date),ie(2),Sa(" By ",t.author,""),ie(),Ne("src",t.src())}}function Ly(s,e){if(s&1&&(oe(0,"div",0)(1,"div",7)(2,"a",8),ue(3,"img",9),ne(),oe(4,"div",10)(5,"h2",11),xe(6),ne(),oe(7,"div",3)(8,"span",4),xe(9),ne(),oe(10,"span",5),xe(11),ne()(),ue(12,"markdown",12),ne()()()),s&2){let t=Hn();ie(2),Ne("routerLink",t.link()),ie(),Ne("src",t.img,ba)("alt",t.title),ie(3),Kt(t.title),ie(3),Kt(t.date),ie(2),Sa(" By ",t.author,""),ie(),Ne("data",t.desc)}}var Ls=class Ls{constructor(e){this.http=e,this.frontmatter=zs(),this.src=zs(),this.preview=zs(!1),this.link=zs(),this.derivedFront=wu(()=>this.frontmatter()),this.frontUrl="",this.title="",this.date="",this.author="",this.img="",this.desc=""}ngOnInit(){this.http.get(String(this.frontmatter()),{responseType:"text"}).subscribe(e=>{let t=ri(e);this.title=t.title,this.date=t.date,this.img=t.img,this.author=t.author,this.desc=t.desc})}};Ls.\u0275fac=function(t){return new(t||Ls)(z(ct))},Ls.\u0275cmp=me({type:Ls,selectors:[["simple-post"]],inputs:{frontmatter:[ot.SignalBased,"frontmatter"],src:[ot.SignalBased,"src"],preview:[ot.SignalBased,"preview"],link:[ot.SignalBased,"link"]},standalone:!0,features:[fu([Gl()]),ge],decls:2,vars:1,consts:[[1,"flex","justify-center"],[1,"prose"],[1,"rounded","bg-base-200",3,"src","alt"],[1,"flex","gap-3"],[1,"badge","badge-ghost"],[1,"text-sm","text-base-content/70"],[3,"src"],[1,"py6","flex","flex-row","gap-6","md:gap-10","items-start"],[3,"routerLink"],["width","160","height","160",1,"w-20","h-20","md:w0-40","md:h-40","rounded","bg-base-200","object-cover",3,"src","alt"],[1,"flex","flex-col","gap-4"],[1,"text-2xl","font-bold"],[1,"prose","text-sm","text-base-content/70",3,"data"]],template:function(t,n){t&1&&yi(0,Py,12,6,"div",0)(1,Ly,13,7),t&2&&bi(0,n.preview()===!1?0:1)},dependencies:[Co,Cs,Pt]});var Fn=Ls;var $s=class $s{constructor(e){this.route=e,this.src="",this.frontmatter=""}ngOnInit(){let e=this.route.snapshot.paramMap.get("year"),t=this.route.snapshot.paramMap.get("month"),n=this.route.snapshot.paramMap.get("slug");this.src=`/fixtures/blog/${e}/${t}/${n}.md`,this.frontmatter=`/fixtures/blog/${e}/${t}/${n}.yaml`}};$s.\u0275fac=function(t){return new(t||$s)(z(Ye))},$s.\u0275cmp=me({type:$s,selectors:[["app-blog"]],standalone:!0,features:[ge],decls:1,vars:3,consts:[[3,"src","frontmatter","preview"]],template:function(t,n){t&1&&ue(0,"simple-post",0),t&2&&Ne("src",n.src)("frontmatter",n.frontmatter)("preview",!1)},dependencies:[Fn]});var sa=$s;function $y(s,e){if(s&1&&ue(0,"simple-post",1),s&2){let t=Hn().$implicit;Ne("src",t.src)("frontmatter",t.frontmatter)("preview",!1)("link",t.link)}}function jy(s,e){if(s&1&&ue(0,"simple-post",1),s&2){let t=Hn().$implicit;Ne("src",t.src)("frontmatter",t.frontmatter)("preview",!0)("link",t.link)}}function _y(s,e){if(s&1&&yi(0,$y,1,4,"simple-post",1)(1,jy,1,4),s&2){let t=e.$index;bi(0,t===0?0:1)}}var js=class js{constructor(e){this.http=e,this.posts=[]}ngOnInit(){this.http.get("/fixtures/blog/main.yaml",{responseType:"text"}).subscribe(e=>{this.posts=ri(e)})}};js.\u0275fac=function(t){return new(t||js)(z(ct))},js.\u0275cmp=me({type:js,selectors:[["app-home"]],standalone:!0,features:[ge],decls:3,vars:0,consts:[[1,"container","mx-auto"],[3,"src","frontmatter","preview","link"]],template:function(t,n){t&1&&(oe(0,"div",0),iu(1,_y,2,1,null,null,ru),ne()),t&2&&(ie(),ou(n.posts))},dependencies:[Fn]});var ra=js;var vd=[{path:"",component:ra},{path:"blog/:year/:month/:slug",component:sa}];var wd={providers:[sf(vd),mh(),cf(),Da()]};var _s=class _s{constructor(){this.title="Reinventing the Wheel"}ngOnInit(){console.log("initialized")}};_s.\u0275fac=function(t){return new(t||_s)},_s.\u0275cmp=me({type:_s,selectors:[["app-root"]],standalone:!0,features:[ge],decls:7,vars:0,consts:[[1,"navbar"],[1,"flex-1"],["href","/",1,"btn","btn-ghost","text-xl"],["src","src/assets/logo.png","alt","logo","height","40","width","40",1,"rounded-lg"]],template:function(t,n){t&1&&(oe(0,"div",0)(1,"div",1)(2,"a",2),ue(3,"img",3),oe(4,"span"),xe(5,"Jchen.net"),ne()()()(),ue(6,"router-outlet"))},dependencies:[Et,xn]});var ia=_s;hh(ia,wd).catch(s=>console.error(s));
/*! Bundled license information:

@angular/common/fesm2022/http.mjs:
  (**
   * @license Angular v17.3.4
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/platform-browser/fesm2022/platform-browser.mjs:
  (**
   * @license Angular v17.3.4
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/router/fesm2022/router.mjs:
  (**
   * @license Angular v17.3.4
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/platform-browser/fesm2022/animations/async.mjs:
  (**
   * @license Angular v17.3.4
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)
*/
